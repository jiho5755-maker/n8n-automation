# n8n 업무 효율화 자동화 전략서

## 문서 정보
- **작성일**: 2026-02-18
- **상태**: 전략 수립 완료 → 서버 배포 후 순차 구현
- **관련 문서**: `PRD.md` (기존 업무 일정 자동화), `CHECKLIST.md` (기존 체크리스트)
- **비용 원칙**: 전 구간 무료 구성 (월 0원)

---

## 1. 전략 개요

### 1.1 배경
기존 업무 일정 자동화(텔레그램→노션 할 일 등록, 모닝 브리핑, 밀린 업무 알림)를
기반으로, 쇼핑몰 운영 전반의 효율화를 위한 확장 자동화 전략.

### 1.2 운영 환경
| 항목 | 현황 |
|------|------|
| 쇼핑몰 | 메이크샵 D4 (카멜레온) |
| 판매 채널 | 자사몰 + 스마트스토어 + 쿠팡 + 11번가 등 (사방넷 연동) |
| CS 채널 | 채널톡(자사몰), 네이버 톡톡, 쿠팡윙, 인스타 DM, 카카오톡 채널, 전화/문자 |
| CS 통합 | 채널톡 무료 플랜으로 전 채널 통합 (라이브챗만 사용, 챗봇 미사용) |
| 업무 관리 | 노션 (할 일, 프로젝트, 캘린더, 업무 카테고리 DB 4개) |
| 주문 관리 | 사방넷 (멀티채널 주문/재고/배송 통합) |
| 알림 | 텔레그램 봇 (@Pressco21_bot) |
| 서버 | Oracle Cloud Free Tier ARM (배포 대기) |
| 일 평균 CS | 4~10건 |
| 주요 CS 유형 | 상품 문의, 주문/결제 문의 |
| 상품 카테고리 | 웨딩기프트/답례품 등 (시즌성 상품) |

### 1.3 채널톡 무료 플랜 제약 (현재 불편 사항)
| 제약 | 영향 |
|------|------|
| 챗봇 시나리오 제한 | FAQ 자동 응답 불가, 모든 문의를 사람이 처리 |
| 고객 정보 제한 | 스마트스토어 고객 DB 안 보임 |
| 대화 기록 보관 제한 | 과거 CS 이력 조회 어려움, 검색 불가 |

### 1.4 자동화 목표
```
[AS-IS]
6개 CS 채널 왔다갔다 확인 → 반복 질문도 직접 답변 → CS 이력 관리 안 됨
리뷰 수동 확인 → 답변 일일이 작성 → 경쟁사 동향 모름

[TO-BE]
AI 챗봇이 FAQ 80~90% 자동 해결 → 상담원 필요시만 채널톡 연결
리뷰 AI 자동 답변 (85~90%) → 부정 리뷰만 직접 처리
모든 CS/리뷰 노션 자동 기록 → 텔레그램 한 곳에서 알림 확인
경쟁사 가격 변동 자동 감지 → SNS 콘텐츠 체계적 관리
```

---

## 2. 전체 시스템 아키텍처

### 2.1 아키텍처 다이어그램

```
                        ┌──────────────────────────────────────┐
                        │       Oracle Cloud ARM (무료)         │
                        │                                      │
                        │  ┌──────────┐  ┌──────────────────┐  │
                        │  │  n8n     │  │  Typebot         │  │
                        │  │ (자동화)  │  │ (AI 챗봇)        │  │
                        │  └────┬─────┘  └───────┬──────────┘  │
                        │       │                │             │
                        │  ┌────┴────────────────┴──────────┐  │
                        │  │       PostgreSQL (공유 DB)       │  │
                        │  └────────────────────────────────┘  │
                        │       │         Nginx + HTTPS        │
                        └───────┼──────────────────────────────┘
                                │
        ┌───────────┬───────────┼───────────┬───────────┐
        ▼           ▼           ▼           ▼           ▼
   [CS 자동화]  [리뷰 관리]  [업무 관리]  [마케팅]    [쇼핑몰]
   Typebot챗봇  AI자동답변   모닝브리핑   경쟁사모니터  주문알림
   채널톡연동   부정리뷰알림  밀린업무     SNS리마인더  재고경고
   템플릿응답   주간분석     할일등록     콘텐츠캘린더  매출리포트
   미답변추적   성과키워드   일일클로징               배송추적

        │           │           │           │           │
        ▼           ▼           ▼           ▼           ▼
    ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐
    │ 노션   │  │ 노션   │  │ 노션   │  │ 노션   │  │ 노션   │
    │ CS DB  │  │리뷰 DB │  │ 할일DB │  │트렌드DB│  │ 주문DB │
    └────────┘  └────────┘  └────────┘  └────────┘  └────────┘
                        │
                        ▼
                   텔레그램 알림
                   (단일 채널)
```

### 2.2 서버 구성

```
Oracle Cloud ARM 인스턴스
├── Shape: VM.Standard.A1.Flex (2 OCPU / 12GB RAM / 50GB)
├── OS: Ubuntu 22.04 aarch64
│
├── Docker Containers
│   ├── n8n (자동화 엔진)
│   ├── PostgreSQL 15 (n8n + Typebot 공유 DB)
│   ├── Typebot Builder (챗봇 관리 UI)
│   └── Typebot Viewer (고객용 챗봇 런타임)
│
├── Nginx (리버스 프록시)
│   ├── n8n.도메인.com → n8n
│   ├── chat.도메인.com → Typebot Builder
│   └── bot.도메인.com → Typebot Viewer
│
└── Certbot (Let's Encrypt SSL 자동 갱신)
```

### 2.3 도메인 설정
| 서브도메인 | 용도 | DNS |
|-----------|------|-----|
| `n8n.도메인.com` | n8n 워크플로우 관리 | A → Oracle IP |
| `chat.도메인.com` | Typebot 챗봇 빌더 (관리자용) | A → Oracle IP |
| `bot.도메인.com` | Typebot 챗봇 위젯 (고객용) | A → Oracle IP |

---

## 3. 자동화 전략 상세

---

### 3.1 [A1] CS 자동화: AI 챗봇 + 채널톡 통합

**우선순위**: P0 (최우선)
**난이도**: 중
**체감 효과**: ⭐⭐⭐⭐⭐

#### 3.1.1 핵심 컨셉

자사몰에서 **Typebot AI 챗봇이 FAQ를 자동 처리**하고,
해결 안 되면 **채널톡 라이브챗으로 자동 전환**하는 일원화 구조.

```
[고객 경험 - 버튼 1개]

자사몰 페이지 → 💬 채팅 버튼 클릭
                    │
                    ▼
              Typebot 챗봇 열림
              "안녕하세요! 무엇을 도와드릴까요?"
              [상품문의] [배송조회] [주문/결제] [교환/반품] [상담원연결]
                    │
              FAQ 자동 해결 (80~90%)
                    │
              해결 안 됨 / "상담원 연결" 클릭
                    │
                    ▼
              Typebot 닫힘 → 채널톡 자동 열림
              기존 채널톡 라이브챗으로 상담 진행
```

- 고객 입장: 하나의 채팅 서비스처럼 느껴짐
- 자사몰만 Typebot 적용, 다른 채널(톡톡/쿠팡/카카오/인스타)은 채널톡 통합 유지

#### 3.1.2 기술 구현

**메이크샵 공통 HTML에 삽입할 코드:**

```html
<!-- 1. 채널톡: 로드하되 버튼 숨김 -->
<script>
(function(){
  var w = window;
  var ch = function(){ch.c(arguments)};
  ch.q = [];
  ch.c = function(args){ch.q.push(args)};
  w.ChannelIO = ch;

  var s = document.createElement('script');
  s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';
  document.head.appendChild(s);

  // 채널톡 초기화 - 버튼 숨김
  w.ChannelIO('boot', {
    pluginKey: '채널톡-플러그인키',
    hideChannelButtonOnBoot: true
  });
})();
</script>

<!-- 2. Typebot: 챗봇 위젯 (메인 버튼) -->
<script type="module">
  import Typebot from 'https://cdn.jsdelivr.net/npm/@typebot.io/js/dist/web.js'
  Typebot.initBubble({
    typebot: 'chatbot-id',
    apiHost: 'https://bot.도메인.com',
    theme: {
      button: { backgroundColor: '#0066FF' },
      chatWindow: { backgroundColor: '#ffffff' }
    },
    previewMessage: {
      message: '궁금한 점이 있으신가요?',
      autoShowDelay: 5000
    }
  })
</script>
```

**Typebot "상담원 연결" 시 채널톡 열기 (JavaScript 실행 블록):**

```javascript
// Typebot 채팅창 닫기
Typebot.close()
// 채널톡 채팅창 열기
ChannelIO('openChat')
```

#### 3.1.3 챗봇 시나리오 트리

```
[시작] "안녕하세요! 무엇을 도와드릴까요?"
│
├─→ [📦 상품 정보]
│     ├─→ 세트별 정보 (구성품/가격/사이즈)
│     │     ├─→ 웨딩기프트 세트A 상세
│     │     ├─→ 웨딩기프트 세트B 상세
│     │     ├─→ 웨딩기프트 세트C 상세
│     │     └─→ 기타 상품 안내
│     ├─→ 대량 주문/견적 안내 (수량별 할인 정책)
│     ├─→ 커스텀/각인 안내
│     └─→ 포장 옵션 안내
│
├─→ [🚚 배송 관련]
│     ├─→ 배송 소요 기간 안내
│     ├─→ 🔍 배송 추적 (주문번호 입력 → n8n Webhook → 사방넷 API → 실시간 조회)
│     ├─→ 배송지 변경 안내
│     └─→ 도서산간 추가비용 안내
│
├─→ [💳 주문/결제]
│     ├─→ 입금 확인 안내
│     ├─→ 주문 변경/취소 방법
│     ├─→ 결제 오류 대처
│     └─→ 영수증/세금계산서 안내
│
├─→ [🔄 교환/반품]
│     ├─→ 교환 방법 및 비용
│     ├─→ 반품 방법 및 기간
│     ├─→ 환불 안내 (결제수단별 소요 기간)
│     └─→ 파손/불량 접수 → 상담원 연결
│
├─→ [🤖 AI에게 물어보기]
│     고객이 자유 텍스트 입력
│     → n8n Webhook → AI 처리 → 답변 반환
│     (FAQ에 없는 질문도 AI가 상품 정보 기반으로 답변)
│
└─→ [💬 상담원 연결]
      → Typebot 닫힘 + 채널톡 자동 열림
      → n8n Webhook 동시 호출
        → 텔레그램 알림 (챗봇 대화 이력 포함)
        → 노션 CS DB 기록
```

**배송 추적 자동화 (킬러 기능):**

```
고객: "배송 어디쯤 왔나요?"
챗봇: "주문번호를 입력해주세요"
고객: "20260218-00123"
        │
        ▼ (n8n Webhook 호출)
   n8n → 사방넷 API → 송장번호 조회
       → 택배사 API → 배송 상태 추적
       → 결과 반환
        │
        ▼
챗봇: "배송 현황을 확인했습니다! 📦
       🚚 CJ대한통운
       📋 송장: 1234567890
       📍 현재: 서울 강남 배송 출발 (오늘 08:30)
       📅 예상 도착: 오늘 중
       🔗 상세 추적: https://..."
```

#### 3.1.4 데이터 흐름

```
[자사몰 고객] → Typebot 챗봇
                  │
                  ├── FAQ 자동 해결 (80~90%)
                  │     └─→ n8n Webhook → 노션 CS DB 기록
                  │
                  ├── 배송 조회 (자동)
                  │     └─→ n8n → 사방넷 API → 배송 상태 반환
                  │
                  └── 상담원 연결 (10~20%)
                        ├─→ JavaScript: 채널톡 열기
                        └─→ n8n Webhook
                              → 텔레그램 알림 (대화 이력 포함)
                              → 노션 CS DB 기록

[다른 채널 고객] → 채널톡 통합 (기존 그대로)
                  └─→ 채널톡 Webhook → n8n
                        → 텔레그램 알림
                        → 노션 CS DB 기록
```

#### 3.1.5 텔레그램 알림 형식

**상담원 연결 요청 시:**
```
💬 상담원 연결 요청
━━━━━━━━━━━━━━━━━━
📍 채널: 자사몰 챗봇 → 채널톡 전환

📋 챗봇 대화 이력:
  1. 상품문의 → 세트A 선택
  2. "대량 주문 시 각인도 되나요?" 질문
  3. 챗봇으로 해결 안 됨 → 상담원 연결

💡 고객은 세트A 대량+각인 문의입니다
   채널톡에서 답변해주세요!
🔗 [채널톡 열기]
```

**다른 채널 CS 수신 시 (스마트스토어 예시):**
```
📩 새 CS 문의
━━━━━━━━━━━━━━━━━━
📍 채널: 네이버 톡톡 (via 채널톡)
🏷 분류: 배송문의
👤 고객: 김철수

💬 "주문한지 이틀인데 아직 배송이 안 되네요"

━━ 🔍 고객 정보 (네이버 API 조회) ━━
📦 최근 주문: #2026021700123
   · 웨딩기프트 세트B × 1 (42,000원)
   · 주문일: 2/16
   · 상태: 배송준비중
   · 송장: 미등록 ⚠️
🔄 구매이력: 2회째 고객 (재구매)
━━━━━━━━━━━━━━━━━━

📋 추천 템플릿: #배송확인
💡 아직 송장 미등록! 출고 처리 먼저 필요
📋 [템플릿 복사]  💬 [채널톡에서 답변]
```

---

### 3.2 [A2] CS 노션 DB + 미답변 추적

**우선순위**: P0 (A1과 함께)
**난이도**: 하~중

#### 3.2.1 노션 CS DB 스키마

| 속성 | 타입 | 자동/수동 | 설명 |
|------|------|----------|------|
| 제목 | title | 자동 | 문의 첫 줄 요약 |
| 채널 | select | 자동 | 톡톡/쿠팡/채널톡/카카오/인스타/전화/자사몰챗봇 |
| 상태 | status | 반자동 | 미답변 → 답변완료 → 종결 |
| 카테고리 | select | 자동 | 상품문의/배송/주문결제/교환반품/기타 |
| 긴급도 | select | 자동 | 일반/긴급/VIP |
| 고객명 | text | 자동 | 채널톡/API에서 추출 |
| 주문번호 | text | 자동 | API 조회 (있으면) |
| 접수일시 | date | 자동 | Webhook 수신 시각 |
| 답변일시 | date | 반자동 | 답변 시 기록 |
| 응답시간 | formula | 자동 | `답변일시 - 접수일시` |
| 내용 | text | 자동 | 문의 전문 |
| 답변내용 | text | 수동 | 내가 한 답변 기록 |
| 사용 템플릿 | relation | 수동 | CS 템플릿 DB 연결 |
| 태그 | multi_select | 수동 | VIP/클레임/칭찬/재구매유도 |

#### 3.2.2 자동 분류 키워드 매핑

```
"사이즈|색상|구성|재질|소재|뭐가 들어"   → 상품문의
"배송|택배|송장|언제 와|며칠|안 와"       → 배송
"교환|반품|환불|취소|반송|돌려"          → 교환반품
"결제|입금|카드|계좌|영수증|세금계산서"    → 주문결제
"불만|화나|최악|신고|깨져|파손|불량"      → 긴급도 상승
그 외                                   → 기타
```

#### 3.2.3 미답변 추적 워크플로우

```
[매 1시간] → 노션 CS DB "미답변" 조회
           → 경과 시간별 단계적 알림

1시간 경과: 📌 미답변 알림
3시간 경과: ⚠️ 미답변 주의!
6시간 경과: 🔴 긴급! (쿠팡 24시간 시한 임박)
```

**채널별 답변 시한 기준:**
| 채널 | 권장 답변 시한 | 이유 |
|------|-------------|------|
| 쿠팡윙 | 24시간 이내 필수 | 미답변 페널티 |
| 스마트스토어 | 빠를수록 | 고객만족도 지표 반영 |
| 자사몰/카카오/인스타 | 영업시간 내 | 일반 권장 |

#### 3.2.4 CS 일일 리포트 (매일 21:00)

```
📊 오늘 CS 현황
━━━━━━━━━━━━━━━━━━
📥 접수: 7건  ✅ 답변완료: 6건  ⏳ 미답변: 1건

📍 채널별
  톡톡 3 | 쿠팡 2 | 채널톡 1 | 카카오 1

📋 유형별
  상품문의 3 | 배송 2 | 주문결제 1 | 교환 1

⏱ 평균 응답: 38분
🏆 최단 응답: 5분 (채널톡)
🐢 최장 응답: 2시간 12분 (쿠팡)

🤖 챗봇 자동 해결: 5건 (자사몰)
📈 이번 주 누적: 32건 (평균 응답 42분)
```

---

### 3.3 [A3] CS 템플릿 응답 시스템

**우선순위**: P1
**난이도**: 하

#### 3.3.1 노션 CS 템플릿 DB 스키마

| 속성 | 타입 | 설명 |
|------|------|------|
| 템플릿명 | title | #구성품, #배송확인 등 |
| 카테고리 | select | 상품문의/배송/주문결제/교환반품 |
| 트리거 키워드 | text | 매칭에 사용할 키워드 목록 |
| 답변 내용 | text | 실제 답변 텍스트 |
| 변수 | text | {상품명}, {송장번호} 등 치환 가능 변수 |
| 사용 횟수 | number | 자동 카운트 |
| 최종 수정일 | date | 마지막 업데이트 |

#### 3.3.2 초기 템플릿 목록

**상품문의 (가장 빈번한 유형):**
| ID | 템플릿명 | 트리거 키워드 |
|----|---------|-------------|
| #구성품 | 구성품 안내 | 구성, 포함, 뭐가 들어, 세트 내용 |
| #사이즈 | 사이즈 안내 | 사이즈, 크기, 몇cm, 얼마나 |
| #소재 | 소재/재질 안내 | 소재, 재질, 무슨 재료, 어떤 |
| #대량주문 | 대량 주문 안내 | 대량, 단체, 100개, 많이, 할인 |
| #포장 | 포장 옵션 안내 | 포장, 선물포장, 리본, 쇼핑백 |
| #커스텀 | 커스터마이징 안내 | 각인, 이름, 맞춤, 커스텀 |

**주문/결제 (두 번째 빈번한 유형):**
| ID | 템플릿명 | 트리거 키워드 |
|----|---------|-------------|
| #입금확인 | 입금 확인 | 입금, 무통장, 계좌, 확인 |
| #주문변경 | 주문 변경 | 변경, 수정, 바꾸고, 옵션변경 |
| #주문취소 | 주문 취소 | 취소, 주문취소, 안 살래 |
| #결제오류 | 결제 오류 | 결제 안 돼, 오류, 에러, 카드 |
| #영수증 | 영수증 발행 | 영수증, 현금영수증, 세금계산서 |

**배송:**
| ID | 템플릿명 | 트리거 키워드 |
|----|---------|-------------|
| #배송확인 | 배송 상태 확인 | 배송, 언제, 며칠, 택배, 송장 |
| #배송지변경 | 배송지 변경 | 주소, 배송지, 변경, 다른 곳 |
| #배송지연 | 배송 지연 사과 | 늦, 안 와, 아직, 지연 |

**교환/반품:**
| ID | 템플릿명 | 트리거 키워드 |
|----|---------|-------------|
| #교환방법 | 교환 방법 안내 | 교환, 바꾸고, 다른 걸로 |
| #반품방법 | 반품 방법 안내 | 반품, 돌려보내, 반송 |
| #환불안내 | 환불 절차 안내 | 환불, 돌려받, 언제 들어와 |
| #파손접수 | 파손 상품 접수 | 깨져, 파손, 불량, 찌그러 |

#### 3.3.3 자동 매칭 흐름

```
[새 CS 문의 도착]
    │
    ▼
[키워드 매칭 엔진] (n8n Code 노드)
  문의: "세트A에 뭐가 들어있나요? 포장도 해주시나요?"
    │
    ├─ "들어있" → #구성품 (매칭도 95%)
    ├─ "포장"   → #포장 (매칭도 90%)
    │
    ▼
[복수 매칭 시 답변 조합]
    │
    ▼
[텔레그램에 추천]
  📋 추천 템플릿: #구성품 + #포장
  ━━━
  (답변 내용 미리보기)
  ━━━
  📋 [복사]  ✏️ [수정]  💬 [채널톡에서 답변]
```

#### 3.3.4 템플릿 자동 학습 (월간)

```
[매월 1일] → 노션 CS DB 분석
          → 반복 문의 중 매칭률 낮은 패턴 감지
          → 텔레그램으로 새 템플릿 추천

💡 새 템플릿 추천
  지난달 "배송 언제 되나요?" 유형 12건
  #배송확인 매칭률 60% → 신규 템플릿 필요
  [✅ 추가] [✏️ 수정 후 추가] [🚫 불필요]
```

---

### 3.4 [B1] 리뷰 AI 자동 답변

**우선순위**: P1
**난이도**: 중~상
**체감 효과**: ⭐⭐⭐⭐⭐

#### 3.4.1 핵심 컨셉

```
[리뷰 수집]          [AI 판단]              [처리]

                    ┌──────────────┐
새 리뷰 감지 ──→    │  AI 분석      │    ⭐4~5 일반 칭찬
(3개 채널)         │  · 감성       │──→ → AI 자동 답변 등록 (85~90%)
                    │  · 키워드     │
                    │  · 특이사항   │    ⭐4~5 상세 후기 / 개선요청 포함
                    │              │──→ → AI 답변 초안 + 텔레그램 확인 (5~10%)
                    │              │
                    └──────────────┘    ⭐1~3 부정 리뷰
                                   ──→ → 텔레그램 긴급 알림 + 직접 답변 (5%)
```

**자동 답변 비율 목표**: 전체 리뷰의 85~90% 자동 처리

#### 3.4.2 채널별 리뷰 수집/답변 등록

| 채널 | 수집 | 답변 등록 | 방법 |
|------|------|----------|------|
| 스마트스토어 | ⭕ | ⭕ | 네이버 커머스 API |
| 쿠팡 | ⭕ | ⭕ | 쿠팡 Wing API |
| 자사몰 | ⭕ | ⭕ | 메이크샵 오픈 API |

3개 채널 모두 API로 **수집 + 자동 답변 등록** 가능.

#### 3.4.3 AI 분류 기준

**자동 답변 (needsHumanReview = false):**
- 별점 4~5 + 일반적 칭찬 ("좋아요", "예뻐요", "만족합니다")
- 별점 4~5 + 배송 칭찬 ("빠른 배송", "포장 꼼꼼")
- 별점 4~5 + 선물 만족 ("선물했더니 좋아하세요")
- 사진만 있고 텍스트 짧은 리뷰

**사람 확인 필요 (needsHumanReview = true):**
- 별점 1~3 전부
- 별점 4~5라도 개선 요청 포함 ("좋긴 한데 ~했으면")
- 교환/반품/환불 언급
- 상품 하자 언급 ("깨져서", "불량", "다른 상품")
- 질문이 포함된 리뷰 ("이거 ~도 되나요?")

#### 3.4.4 AI 답변 생성 프롬프트

```
당신은 쇼핑몰 리뷰 답변 담당자입니다.

[브랜드 톤앤매너]
- 친근하고 따뜻한 말투
- 이모지 적절히 사용 (과하지 않게)
- 고객 이름이 있으면 "OO님" 호칭
- 마지막에 재방문 유도 한 줄

[답변 규칙]
- 리뷰 내용을 구체적으로 언급 (복붙 느낌 방지)
- 3~5줄 이내로 간결하게
- 칭찬 리뷰: 감사 + 구체 반응 + 재방문 유도
- 상세 후기: 감사 + 내용 공감 + 추가 정보 제공
- 부정 리뷰: 사과 + 원인 확인 약속 + 연락처 안내

[리뷰 정보]
별점: {rating}
내용: {review_text}
상품: {product_name}
고객: {customer_name}
```

#### 3.4.5 텔레그램 알림 형식

**부정 리뷰 긴급 알림:**
```
🔴 부정 리뷰 알림!
━━━━━━━━━━━━━━━━━━
📍 쿠팡 | ⭐2
👤 박민수님
📦 웨딩기프트 세트B
💬 "상자가 찌그러져서 왔어요. 선물용인데..."

⚠️ 상품 하자 + 불만 감지
💡 교환/보상 검토 필요

🤖 AI 답변 참고안:
━━━
박민수님 안녕하세요. 소중한 선물용으로
구매해주셨는데 상품이 손상된 채 도착하여
정말 죄송합니다. 즉시 새 상품으로 재발송
도와드리겠습니다...
━━━
[✏️ 수정 후 등록] [📞 직접 연락] [🚫 보류]
```

**사람 확인 요청 (경미한 건):**
```
📝 리뷰 답변 확인 요청
━━━━━━━━━━━━━━━━━━
📍 스마트스토어 | ⭐4
👤 이영희님
📦 웨딩기프트 세트A
💬 "상품은 괜찮은데 배송이 좀 느렸어요"

🤖 AI 답변 초안:
━━━
이영희님 안녕하세요 :) 솔직한 후기 감사합니다.
상품에 만족해주셔서 감사하지만, 배송이
느려 불편드린 점 죄송합니다.
더 빠른 배송을 위해 개선하겠습니다.
다음에는 더 좋은 경험 드릴게요!
━━━
[✅ 이대로 등록] [✏️ 수정] [🚫 직접 작성]
```

#### 3.4.6 리뷰 노션 DB 스키마

| 속성 | 타입 | 설명 |
|------|------|------|
| 상품명 | title | 리뷰 대상 상품 |
| 채널 | select | 스마트스토어/쿠팡/자사몰 |
| 별점 | number | 1~5 |
| 리뷰 내용 | text | 원문 |
| AI 감성 | select | 긍정/중립/부정 |
| 키워드 | multi_select | 포장/배송/품질/가격/선물 등 |
| 답변 방식 | select | AI자동/AI초안+승인/직접작성 |
| 답변 내용 | text | 실제 등록된 답변 |
| 답변일시 | date | 답변 등록 시각 |
| 고객명 | text | 리뷰 작성자 |
| 등록일 | date | 리뷰 작성일 |

#### 3.4.7 리뷰 리포트

**일일 (매일 21:00):**
```
📝 오늘 리뷰 현황
━━━━━━━━━━━━━━━
📥 신규: 4건 | 🤖 AI 자동: 3건 | 👤 수동: 1건 | ⏳ 미답변: 0건
⭐ 평균 별점: 4.5
📍 스마트스토어 2 | 쿠팡 1 | 자사몰 1
```

**주간 (매주 월요일 09:00):**
```
📝 주간 리뷰 분석
━━━━━━━━━━━━━━━━━━
총 18건 | 평균 ⭐4.3 | AI 자동 처리율: 83%

⭐5: ██████████ 10건
⭐4: ██████ 6건
⭐3: █ 1건
⭐2: █ 1건

📊 주요 키워드 (긍정)
  포장(8) 예쁘다(6) 선물(5) 빠른배송(4)

📊 주요 키워드 (부정)
  배송느림(2) 사이즈(1)

📍 채널별 평점
  스마트스토어: ⭐4.5 (8건)
  쿠팡: ⭐4.0 (6건) ← 상대적 낮음
  자사몰: ⭐4.8 (4건)

💡 인사이트
  · "포장" 언급 가장 많음 → 마케팅 포인트로 활용
  · 쿠팡 배송 불만 2건 → 출고 프로세스 점검 필요
  · 릴스가 피드 대비 좋아요 2.7배 → 포장 언박싱 릴스 제작 추천
```

---

### 3.5 [C1] 경쟁사 가격 모니터링

**우선순위**: P2
**난이도**: 중

#### 3.5.1 모니터링 대상

| 채널 | 방법 | 주기 |
|------|------|------|
| 네이버 쇼핑 | 네이버 쇼핑 검색 API / 크롤링 | 매일 09:00 |
| 쿠팡 | 쿠팡 검색 결과 크롤링 | 매일 09:30 |

**모니터링 키워드** (웨딩기프트 기준, 실제 운영 시 조정):
- "웨딩기프트", "결혼답례품", "답례품세트"
- 주력 상품명 직접 검색

#### 3.5.2 알림 기준 (변동 있을 때만)

```
가격 변동: ±5% 이상일 때만 알림
순위 변동: ±3위 이상일 때만 알림
신규 진입: 상위 10위 이내 새 상품 등장 시
이벤트 감지: "할인", "쿠폰", "무료배송" 키워드 새로 등장 시
변동 없음: 노션에만 기록, 알림 안 함
```

#### 3.5.3 노션 DB

**경쟁사 상품 DB** (모니터링 대상 관리):
| 속성 | 타입 | 설명 |
|------|------|------|
| 상품명 | title | 경쟁 상품명 |
| 업체명 | text | 경쟁사 이름 |
| 채널 | select | 스마트스토어/쿠팡 |
| 현재가 | number | 최신 가격 |
| 이전가 | number | 전일 가격 |
| URL | url | 상품 링크 |
| 모니터링 키워드 | text | 검색 키워드 |

**가격 이력 DB** (일별 기록, 추이 분석용):
| 속성 | 타입 | 설명 |
|------|------|------|
| 날짜 | title | 기록 날짜 |
| 키워드 | select | 검색 키워드 |
| 내 가격 | number | 내 상품 가격 |
| 내 순위 | number | 검색 결과 내 순위 |
| 최저가 | number | 경쟁사 최저가 |
| 최저가 업체 | text | 최저가 업체명 |
| 평균가 | number | 상위 10개 평균가 |
| 경쟁사 수 | number | 상위 진입 경쟁사 수 |

#### 3.5.4 텔레그램 알림 형식

**일일 변동 알림 (변동 있을 때만):**
```
🔍 경쟁사 가격 변동 감지
━━━━━━━━━━━━━━━━━━━
키워드: "웨딩기프트"

📊 내 순위: 8위 → 6위 (↑2)

💰 가격 변동
  🔴 A업체: 45,000→39,900원 (-11%)
  🔴 B업체: 신상품 등록 38,000원
  🟢 C업체: 변동 없음 43,000원

📌 내 상품: 42,000원 (현재 3위 가격대)
💡 A업체가 최저가로 내렸습니다
```

**주간 경쟁 분석 (매주 월요일 09:00):**
```
📈 주간 경쟁 분석 리포트
━━━━━━━━━━━━━━━━━━━━━
🔍 네이버 쇼핑 "웨딩기프트"
  내 평균 순위: 7.2위 (전주 8.5위, ↑개선)
  주간 최저가 평균: 40,500원
  신규 진입 업체: 1곳

🔍 쿠팡 "결혼답례품"
  내 평균 순위: 14위 (전주 12위, ↓하락)
  로켓배송 업체 수: 4 → 5개 (↑1)

💡 인사이트
  · 3월 결혼 시즌 앞두고 경쟁 심화 추세
  · 쿠팡 순위 하락: 리뷰 수 열세 추정
  · A업체 가격 인하 → 시즌 한정 프로모션 가능성
```

---

### 3.6 [D1] SNS 포스팅 리마인더

**우선순위**: P2
**난이도**: 하

#### 3.6.1 노션 콘텐츠 캘린더 DB 스키마

| 속성 | 타입 | 설명 |
|------|------|------|
| 제목 | title | 콘텐츠 제목 |
| 채널 | multi_select | 인스타피드/인스타릴스/인스타스토리/블로그/스마트스토어소식 |
| 상태 | status | 아이디어 → 기획 → 제작중 → 완성 → 예약완료 → 발행완료 |
| 발행일 | date | 발행 예정일 |
| 타입 | select | 제품사진/리뷰리그램/이벤트/정보성/릴스/스토리 |
| 해시태그 | text | 사용할 태그 |
| 캡션 | text | 발행할 텍스트 |
| 이미지 | files | 소스 이미지 |
| 성과 | text | 좋아요/댓글/저장/도달 (발행 후 기록) |
| 프로젝트 | relation | 프로젝트 DB 연결 |
| 메모 | text | 참고사항 |

#### 3.6.2 워크플로우

**내일 발행 리마인더 (매일 21:00):**
```
📱 내일 SNS 발행 예정
━━━━━━━━━━━━━━━━━━

📌 봄 신상품 세트C 소개
   채널: 인스타 피드
   상태: 완성 ✅
   해시태그: #웨딩기프트 #결혼답례품 #봄신상

📌 고객 리뷰 리포스트
   채널: 인스타 스토리
   상태: 제작중 ⚠️ (아직 미완성!)

⚠️ "고객 리뷰 리포스트" 내일 발행인데 미완성!
```

**주간 콘텐츠 플래닝 (매주 일요일 20:00):**
```
📅 다음 주 콘텐츠 일정
━━━━━━━━━━━━━━━━━━━━━
월: 봄 신상품 소개 [인스타 피드] ✅
화: ─ (비어있음)
수: 포장 과정 영상 [인스타 릴스] 기획중
목: 블로그 상세 리뷰 [블로그] 제작중
금: 주말 이벤트 공지 [인스타 피드+스토리] 아이디어
토: ─ (비어있음)
일: 한 주 베스트 리뷰 모음 [인스타 스토리] 아이디어

📊 현황: 5/7일 (71%)
⚠️ 화, 토 비어있음
💡 화: 고객 후기 리그램 (제작 부담 적음) 추천
```

**발행 후 성과 체크 리마인더 (발행일 +3일):**
```
📊 성과 체크 리마인더
━━━━━━━━━━━━━━━━━━
📌 "봄 신상품 세트C 소개" (2/15 발행, 3일 경과)
💡 좋아요/댓글/저장/도달 수를 확인하고 노션에 기록해주세요
🔗 [인스타 게시물](링크) | 📝 [노션에서 기록](링크)
```

**월간 콘텐츠 성과 분석 (매월 1일):**
```
📊 2월 SNS 성과 요약
━━━━━━━━━━━━━━━━━━━━━
📱 인스타그램
  총 발행: 16건 (피드 10 / 스토리 4 / 릴스 2)
  평균 좋아요: 45 | 평균 저장: 12
  베스트: "포장 과정 릴스" (좋아요 120, 저장 35)

📝 블로그
  총 발행: 4건
  베스트: "웨딩기프트 추천 TOP5" (조회 820)

💡 인사이트
  · 릴스가 피드 대비 좋아요 2.7배 → 릴스 비중 확대 추천
  · "포장" 관련 콘텐츠가 저장률 1위 → 강화 필요
```

---

## 4. 크로스 자동화 (시너지)

개별 자동화가 합쳐지면 생기는 추가 가치:

### 4.1 리뷰 → SNS 콘텐츠 자동 제안

```
[좋은 리뷰 감지] (⭐5 + 사진 포함 + 감성적 텍스트)
    │
    ▼
📸 SNS용 좋은 리뷰 발견!
  스마트스토어 김OO님
  "포장이 너무 예쁘고 신랑 부모님이 좋아하셨어요!" + 사진 3장

💡 리그램/리포스트 콘텐츠로 활용 추천
[📱 콘텐츠 캘린더에 추가]
```

### 4.2 반복 CS 문의 → 상세페이지 개선 인사이트

```
[매월 1일]
📋 반복 문의 분석
━━━━━━━━━━━━━━━
이번 달 가장 많이 반복된 문의:
1. "구성품이 뭔가요?" (18회)
2. "포장은 어떻게 되나요?" (12회)
3. "대량 주문 할인 되나요?" (8회)

💡 상세페이지 개선 제안
  · 구성품 정보를 상단에 명시
  · 포장 사진 추가
  · 대량 주문 안내 배너 추가
  → 이 3가지 개선으로 월 38건 CS 감소 예상
```

### 4.3 경쟁사 가격 변동 → 프로모션 트리거

```
[경쟁사 가격 10% 이상 인하 감지]
    │
    ▼
🚨 경쟁사 가격 급변!
  A업체: 45,000→39,900원 (-11%)

💡 대응 옵션:
  1. 가격 인하 (수익률 -8%)
  2. 한정 쿠폰 (3,000원)
  3. 사은품 추가
  4. 관망 (시즌 한정 할인 가능성)
```

### 4.4 리뷰 키워드 → 마케팅 키워드 연동

```
📊 이번 달 리뷰 긍정 키워드 TOP 5:
  1. 포장 (32회) 2. 선물 (28회) 3. 예쁜 (22회)
  4. 빠른배송 (18회) 5. 답례품 (15회)

💡 SNS 해시태그 & 광고 키워드에 반영 추천:
  #포장예쁜선물 #답례품추천 #빠른배송
```

---

## 5. 추가 자동화 아이디어 (향후)

서버 안정화 후 순차 검토 가능한 자동화:

### 5.1 쇼핑몰 운영

| 자동화 | 설명 | 난이도 |
|--------|------|--------|
| 주문 알림 | 신규 주문 텔레그램 즉시 알림 | 중 |
| 재고 품절 예측 | 판매 속도 기반 품절 D-Day 알림 | 중 |
| 미출고 주문 알림 | 입금 확인 후 24시간+ 미출고 경고 | 하 |
| 일일 매출 리포트 | 오늘 매출/주문/배송 현황 텔레그램 | 중 |
| 채널별 판매 비교 | 사방넷 데이터 기반 주간 채널별 성과 | 중 |
| 반품/교환 추적 | 미처리 건 알림 | 하 |
| 송장 미등록 알림 | 쿠팡/스마트스토어 페널티 방지 | 하 |

### 5.2 업무 관리

| 자동화 | 설명 | 난이도 |
|--------|------|--------|
| 일일 클로징 리포트 | 오늘 완료/미완료 + 내일 예정 | 하 |
| 주간 리포트 | 완료율/프로젝트 진행률/채널별 성과 | 하 |
| 반복 업무 자동 등록 | 매주/매월 정기 업무 노션 자동 생성 | 하 |
| 텔레그램 메모 저장 | #메모 태그 → 노션 자동 저장 | 하 |
| 일일 운영 체크리스트 | 매일 아침 루틴 체크리스트 자동 생성 | 하 |

### 5.3 마케팅

| 자동화 | 설명 | 난이도 |
|--------|------|--------|
| 시즌 프로모션 D-Day | 프로모션 준비 단계별 알림 | 하 |
| 기념일/시즌 알림 | 다음 달 주요 시즌 자동 안내 | 하 |
| 네이버 검색 트렌드 | 데이터랩 API 기반 키워드 추이 | 중 |
| 상품 등록 체크리스트 | 신상품 등록 시 채널별 체크리스트 자동 생성 | 하 |

### 5.4 인프라

| 자동화 | 설명 | 난이도 |
|--------|------|--------|
| 서버 헬스체크 | 쇼핑몰/n8n 접속 모니터링 | 하 |
| n8n 워크플로우 백업 | 매일 자동 JSON 내보내기 | 하 |
| SSL 인증서 만료 알림 | D-30, D-7 알림 | 하 |

---

## 6. 노션 DB 전체 맵

### 기존 DB (업무 관리용, 구축 완료)
```
업무 카테고리 DB ──→ 프로젝트 DB ──→ 할 일 DB ──→ 캘린더 DB
```

### 신규 DB (자동화 확장용, 순차 생성)
```
CS 문의 DB ──→ CS 템플릿 DB
리뷰 DB
콘텐츠 캘린더 DB
경쟁사 상품 DB ──→ 가격 이력 DB
```

| DB | 우선순위 | 생성 시점 |
|----|---------|----------|
| CS 문의 DB | P0 | Week 2 |
| CS 템플릿 DB | P1 | Week 2 |
| 리뷰 DB | P1 | Week 3~4 |
| 콘텐츠 캘린더 DB | P2 | Week 4 |
| 경쟁사 상품 DB | P2 | Week 5~6 |
| 가격 이력 DB | P2 | Week 5~6 |

---

## 7. 구현 로드맵

### Phase 0: 서버 배포 (기존 CHECKLIST.md 참조)
```
Oracle Cloud 인스턴스 생성 → 서버 설정 → n8n + Typebot 배포 → HTTPS
```

### Week 1: 기존 워크플로우 배포
- [ ] 기존 워크플로우 Import (F1 할일등록, F3 모닝브리핑, F4 밀린업무)
- [ ] n8n Credential 등록 (텔레그램, 노션)
- [ ] 실제 텔레그램 테스트
- [ ] 24시간 안정성 모니터링

### Week 2: CS 자동화 핵심
- [ ] Typebot 배포 (Docker, 도메인 설정)
- [ ] Typebot 챗봇 시나리오 구축 (상품/배송/주문/교환 FAQ)
- [ ] 메이크샵에 Typebot 위젯 삽입 + 채널톡 버튼 숨김
- [ ] Typebot → 채널톡 전환 JavaScript 연동
- [ ] n8n 워크플로우: Typebot Webhook → 텔레그램 알림 + 노션 CS DB 기록
- [ ] n8n 워크플로우: 채널톡 Webhook → 텔레그램 알림 + 노션 CS DB 기록
- [ ] 노션 CS 문의 DB 생성
- [ ] 노션 CS 템플릿 DB 생성 + 초기 템플릿 15개 입력
- [ ] n8n 워크플로우: CS 템플릿 자동 매칭 → 텔레그램 추천
- [ ] n8n 워크플로우: 미답변 추적 (매 1시간)
- [ ] n8n 워크플로우: CS 일일 리포트 (21:00)

### Week 3~4: 리뷰 AI 자동 답변
- [ ] 노션 리뷰 DB 생성
- [ ] n8n 워크플로우: 스마트스토어 리뷰 수집 (네이버 커머스 API)
- [ ] n8n 워크플로우: AI 리뷰 분류 + 자동 답변 생성
- [ ] n8n 워크플로우: 자동 답변 → 스마트스토어 API 등록
- [ ] n8n 워크플로우: 사람 확인 필요 건 → 텔레그램 알림 + 승인 플로우
- [ ] 쿠팡 리뷰 수집 + 자동 답변 확장 (쿠팡 Wing API)
- [ ] 자사몰 리뷰 수집 + 자동 답변 확장 (메이크샵 API)
- [ ] n8n 워크플로우: 리뷰 일일/주간 리포트

### Week 4: SNS 포스팅 리마인더
- [ ] 노션 콘텐츠 캘린더 DB 생성
- [ ] n8n 워크플로우: 내일 발행 리마인더 (21:00)
- [ ] n8n 워크플로우: 주간 콘텐츠 플래닝 (일요일 20:00)
- [ ] n8n 워크플로우: 발행 후 성과 체크 리마인더 (+3일)
- [ ] n8n 워크플로우: 월간 콘텐츠 성과 분석 (매월 1일)

### Week 5~6: 경쟁사 모니터링
- [ ] 노션 경쟁사 상품 DB + 가격 이력 DB 생성
- [ ] n8n 워크플로우: 네이버 쇼핑 키워드 모니터링 (매일 09:00)
- [ ] n8n 워크플로우: 쿠팡 모니터링 (매일 09:30)
- [ ] n8n 워크플로우: 가격 변동 알림 (변동 시에만)
- [ ] n8n 워크플로우: 주간 경쟁 분석 리포트 (월요일 09:00)

### Week 7~8: 안정화 + 크로스 자동화
- [ ] 전체 워크플로우 안정성 모니터링
- [ ] 챗봇 시나리오 고도화 (고객 반응 데이터 기반)
- [ ] CS 템플릿 보강 (실제 문의 패턴 반영)
- [ ] AI 리뷰 답변 프롬프트 튜닝
- [ ] 크로스 자동화: 리뷰 → SNS 콘텐츠 제안
- [ ] 크로스 자동화: 반복 CS → 상세페이지 개선 인사이트
- [ ] n8n 워크플로우 자동 백업

---

## 8. 비용 요약

| 항목 | 서비스 | 비용 |
|------|--------|------|
| 서버 | Oracle Cloud Free Tier ARM | 0원 |
| 자동화 | n8n (self-hosted Docker) | 0원 |
| 챗봇 | Typebot (self-hosted Docker) | 0원 |
| DB | PostgreSQL (Docker) | 0원 |
| 도메인 | 기존 보유 | 0원 |
| SSL | Let's Encrypt | 0원 |
| 텔레그램 | Bot API | 0원 |
| 노션 | API (무료 플랜 충분) | 0원 |
| AI 리뷰 답변 | OpenAI API (선택) | 월 ~5,000원 예상 |
| | | (일 10건 × 30일 × $0.01~0.02) |
| **월 합계** | | **0원 ~ 5,000원** |

> AI 리뷰 답변을 위한 API 비용만 소량 발생.
> 하루 4~10건 수준이면 월 3,000~5,000원 수준.
> AI 없이 키워드 매칭 + 템플릿만으로도 운영 가능 (이 경우 0원).

---

## 9. 핵심 API/서비스 목록

| API | 용도 | 인증 방식 |
|-----|------|----------|
| Telegram Bot API | 알림 수발신 | Bot Token |
| Notion API | DB CRUD (할일/CS/리뷰/콘텐츠 등) | Integration Token |
| 채널톡 SDK/Webhook | 라이브챗 + CS 수신 | Plugin Key + Webhook |
| 네이버 커머스 API | 스마트스토어 주문/리뷰/고객 정보 | OAuth |
| 쿠팡 Wing API | 쿠팡 주문/리뷰/문의 | API Key |
| 메이크샵 오픈 API | 자사몰 주문/리뷰/게시판 | API Key |
| 사방넷 API | 주문/배송/재고 통합 | API Key |
| Typebot | 챗봇 시나리오 + 위젯 | Self-hosted |
| OpenAI API (선택) | 리뷰 AI 답변 생성 | API Key |

---

## 10. 성공 지표

| 지표 | 현재 | 목표 | 측정 방법 |
|------|------|------|----------|
| CS 자동 해결률 | 0% (전부 수동) | 80~90% | 챗봇 자동 해결 / 전체 자사몰 CS |
| CS 평균 응답 시간 | 측정 안 됨 | 1시간 이내 | 노션 CS DB (접수~답변 시간) |
| 리뷰 자동 답변률 | 0% (전부 수동) | 85~90% | AI 자동 / 전체 리뷰 |
| 리뷰 미답변 | 다수 | 0건 (24시간 내 전건 답변) | 노션 리뷰 DB |
| CS 이력 보관 | 제한 (채널톡 무료) | 전건 영구 보관 | 노션 CS DB |
| SNS 포스팅 빈도 | 비정기 | 주 4회 이상 | 노션 콘텐츠 캘린더 |
| 경쟁사 가격 파악 | 수동 검색 | 자동 일일 모니터링 | 노션 가격 이력 DB |
| 월 운영 비용 | 0원 | 0~5,000원 | AI API 비용만 |

---

## 부록: 기존 자동화와의 관계

이 전략서는 기존 `PRD.md`의 업무 일정 자동화(F1~F4)를 확장하는 문서입니다.

```
[기존 PRD.md 범위]                    [이 전략서 범위]
━━━━━━━━━━━━━━━━━━                  ━━━━━━━━━━━━━━━━━━
F1 텔레그램→노션 할일 등록 ✅         A1 CS AI 챗봇 (Typebot+채널톡)
F2 구글캘린더→노션 동기화 ⏳          A2 CS 노션 DB + 미답변 추적
F3 모닝 브리핑 ✅                     A3 CS 템플릿 응답 시스템
F4 밀린 업무 알림 ✅                  B1 리뷰 AI 자동 답변
                                     C1 경쟁사 가격 모니터링
                                     D1 SNS 포스팅 리마인더
                                     + 크로스 자동화 + 향후 아이디어
```

기존 인프라(Oracle Cloud + n8n + PostgreSQL)를 공유하며,
Typebot만 추가로 배포하면 됩니다.
