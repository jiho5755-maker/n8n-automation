# 쇼핑몰 운영 자동화 시스템 PRD

> **작성일**: 2026-02-19
> **최종 수정**: 2026-02-19 (전면 재작성 — 사용자 피드백 전체 반영)
> **상태**: 기술 검증 완료, 서버 배포 대기 중
> **관련 문서**: `AUTOMATION-STRATEGY.md` (전략 상세), `CLAUDE.md` (컨텍스트)

---

## 핵심 정보

**목적**: 메이크샵 D4 쇼핑몰(웨딩기프트/답례품) 1인 운영에서 발생하는 반복 CS 처리, 리뷰 답변, 고객 경험 자동화(미수금/VIP/이탈/휴면)를 n8n + Typebot으로 자동화하여 운영 부담을 최소화하고 매출을 증대한다.

**사용자**: 메이크샵 D4 쇼핑몰을 혼자 운영하며 자사몰 + 스마트스토어 등 다채널 CS와 마케팅을 동시에 담당하는 1인 사업자.

---

## 사방넷 역할 명확화 (자동화 불필요 영역)

> 사방넷은 2년째 사용 중이며 API 비용(월 5만원) 없이 기존 UI 기능만 활용한다.
> 아래 영역은 메이크샵 + 사방넷 기존 기능으로 이미 충분하므로 n8n 자동화 대상에서 제외한다.

| 영역 | 처리 방식 | n8n 자동화 여부 |
|------|----------|----------------|
| 주문 조회 | 사방넷 + 메이크샵 UI | 제외 |
| 송장 출력 및 등록 | 사방넷 UI | 제외 |
| 재고 통합 관리 | 사방넷 UI | 제외 |
| 배송 처리 | 사방넷 UI | 제외 |
| 교환/반품 처리 | 사방넷 + 메이크샵 UI | 제외 |
| 쿠팡 관련 모든 처리 | 사방넷 (쿠팡 Wing API와 중복 불가) | 전면 제외 |

---

## 기술적 제약 및 리스크

| 제약 | 영향 | 대응 방안 |
|------|------|----------|
| **채널톡 무료 플랜: Webhook/Open API 미지원** | 타 채널(톡톡/카카오/인스타) CS 자동 수신 불가 | 자사몰만 Typebot→n8n 자동화, 타 채널 수동. 크롤링 동기화 방안 별도 검토 |
| **채널톡 크롤링 동기화 방안 (연구 필요)** | 채널톡 UI 내 타 채널 문의 수동 저장 비효율 | 방안 A: 채널톡 앱 UI Puppeteer 자동화(비공식). 방안 B: 브라우저 확장프로그램으로 채널톡 대화 자동 추출. 방안 C: 판매자 각 채널 직접 API(톡톡 챗봇 API 등) 별도 연동 |
| **네이버 커머스 API: 리뷰 미지원** | 스마트스토어 리뷰 자동 수집/답변 등록 불가 | API로 시도 중. 해결 시 Phase 4에서 자동화 추가. 현재는 AI 초안 → 텔레그램 → 수동 등록 |
| **쿠팡 Wing API: 사방넷 연동 중복** | 쿠팡 직접 API 연동 불가 | 쿠팡은 사방넷 기존 기능으로 처리. PRD에서 전면 제외 |
| **사방넷 API: 월 5만원 유료** | API 연동 비용 부담 | 사방넷 UI 기능만 활용. API 미사용 |
| **쿠팡 크롤링: robots.txt 차단** | 경쟁사 모니터링 불가 | 네이버 검색 API만 활용. 쿠팡은 수동 모니터링 |
| **Notion API: 초당 3회 제한** | 대량 조회 시 속도 제한 | retry/backoff 로직 적용 |
| **메이크샵 API: 시간당 500회 제한** | API 호출 예산 관리 필요 | 시간대별 분산 호출, 일일 300~400회 이내 유지 |

### 채널별 자동화 가능 범위

| 채널 | CS 수신 | CS 답변 등록 | 리뷰 수집 | 리뷰 답변 등록 |
|------|---------|------------|---------|--------------|
| **자사몰 (메이크샵)** | Typebot 자동 + 1:1 게시판 API | API 자동 | API 자동 | API 자동 |
| **스마트스토어** | 커머스 API 자동 (상품 문의 조회) | API 자동 | 시도 중 (해결 시 자동화) | 시도 중 |
| **네이버 톡톡** | 채널톡 통합 (수동 확인) | 수동 | - | - |
| **쿠팡** | 사방넷으로 관리 | 사방넷으로 관리 | 제외 | 제외 |
| **카카오/인스타** | 채널톡 통합 (수동 확인) | 수동 | - | - |

---

## 사용자 여정

```
[자사몰 고객 경험 — Typebot 챗봇]

1. 자사몰 페이지 → 채팅 버튼 클릭
   ↓ Typebot 챗봇 위젯 열림

2. Typebot 챗봇
   ↓ 카테고리 선택 또는 자유 질문 입력

   [FAQ 자동 해결 (80~90%)]  → 답변 표시 → n8n → 노션 CS DB 기록 → 종료
   [배송 조회 요청]           → 주문번호 입력 → n8n → 메이크샵 주문 API
                              → 택배사 추적 API → 배송 상태 반환 → 종료
   [상담원 연결 요청 (10~20%)] → 채널톡 자동 열림 ↓

3. 채널톡 라이브챗 → 운영자 직접 답변
   ↓ n8n 텔레그램 알림 (챗봇 대화 이력 + 추천 템플릿 포함)

---

[자사몰 고객 경험 — 미수금 관리]

1. 무통장 주문 발생 → n8n 스케줄 매 1시간 감시
   ↓

   [72시간 내 입금 확인] → 메이크샵 API 입금 처리 → SMS 출고 안내
   [72시간 미입금]       → 메이크샵 API 자동 취소 → SMS 취소 안내
                         → 텔레그램 운영자 알림

---

[리뷰 자동화 — 매일 스케줄]

1. n8n 스케줄 → 자사몰 메이크샵 API 리뷰 수집
   ↓ AI 감성 분석 및 분류

   [별점 4~5 + 일반 칭찬] → AI 자동 답변 → API 자동 등록 → 노션 기록 → 종료
   [별점 4~5 + 개선요청]  → AI 초안 생성 → 텔레그램 승인 요청 ↓
   [별점 1~3 부정 리뷰]   → 텔레그램 긴급 알림 + AI 참고안 ↓

2. 운영자 → 텔레그램에서 [이대로 등록] / [수정] / [직접 작성] 선택 → API 자동 등록

3. 스마트스토어 리뷰 → AI 답변 초안 → 텔레그램 발송
   → 운영자가 판매자센터에서 수동 등록 (네이버 커머스 API 시도 중, 해결 시 자동화)

---

[리뷰 작성 유도 — 배송완료 D+7]

1. n8n 스케줄 → 메이크샵 API 배송완료 D+7 주문 조회
   → 리뷰 미작성 고객 → SMS 리뷰 요청 + 적립금 보상 안내 자동 발송

---

[고객 경험 고도화 — 매일/매월 스케줄]

VIP 관리: 월 1회 → 주문 통계 조회 → VIP 기준 충족 고객 자동 승급
          → 축하 SMS + 쿠폰/적립금 자동 지급 → 텔레그램 알림

장바구니 이탈: 매일 10:00 → 24시간 이탈 감지 → SMS + 쿠폰 자동 발송

휴면 재활성화: 매일 스케줄 → 휴면 전환 예정 D-7 → 복귀 할인 쿠폰 + SMS

---

[SNS 리마인더 — 매일/주간 스케줄]

1. n8n 스케줄 → 노션 콘텐츠 캘린더 DB 조회
   ↓ 내일 발행 예정 → 텔레그램 리마인더 (매일 21:00)
   ↓ 미완성 콘텐츠 → 텔레그램 경고 (매일 21:00)
   ↓ 주간 계획 현황 → 텔레그램 발송 (매주 일요일 20:00)

   [좋은 리뷰 감지 시] → 텔레그램으로 SNS 콘텐츠 활용 자동 추천

---

[경쟁사 모니터링 — 매일 09:00, 최후순위]

1. n8n 스케줄 → 네이버 검색 API(쇼핑) 가격/순위 수집
   (쿠팡 제외: 크롤링 차단)
   [변동 없음] → 노션 가격 이력 DB 기록만 (알림 없음)
   [변동 감지] → 텔레그램 알림 → 운영자 대응 판단
```

---

## 기능 명세

### Phase 1 — MVP: 자사몰 CS + 리뷰 + 미수금 (최우선)

| ID | 기능명 | 설명 | 필수 이유 | 관련 페이지/도구 |
|----|--------|------|---------|----------------|
| **F001** | Typebot 챗봇 FAQ 자동 응대 | 자사몰 채팅 버튼 → Typebot → 카테고리별 FAQ 자동 답변 | 일 4~10건 CS 중 80~90% 자동 해결 | Typebot 챗봇, n8n CS 워크플로우 |
| **F002** | Typebot → 채널톡 자동 전환 | 상담원 연결 클릭 시 Typebot 닫힘 + 채널톡 자동 열림 | 고객이 하나의 채팅처럼 경험 | Typebot 챗봇, 메이크샵 공통 HTML |
| **F003** | 배송 추적 자동화 | 주문번호 입력 → 메이크샵 주문 API → 택배사 추적 API → 배송 상태 반환 | 가장 빈번한 CS 유형 자동 해결 | Typebot 챗봇, n8n CS 워크플로우 |
| **F004** | CS 노션 DB 기록 | 자사몰 챗봇 CS → n8n → 노션 CS 문의 DB 자동 기록 | 영구 CS 이력 보관 (채널톡 무료 기록 제한 극복) | n8n CS 워크플로우, 노션 CS 문의 DB |
| **F005** | CS 텔레그램 알림 + 템플릿 추천 | CS 수신 시 텔레그램 즉시 알림 + 키워드 매칭 답변 템플릿 자동 추천 | 답변 시간 단축, 일관된 품질 유지 | n8n CS 워크플로우, 노션 CS 템플릿 DB |
| **F006** | 미답변 CS 추적 알림 | 노션 CS DB 기준 1시간/3시간/6시간 경과 미답변 건 단계적 텔레그램 알림 | 응답 누락 방지 | n8n CS 워크플로우, 노션 CS 문의 DB |
| **F007** | CS 템플릿 DB 관리 | 노션 CS 템플릿 DB에 초기 18개 답변 템플릿 구축 + 키워드 매칭 + 변수 치환 + 사용 횟수 통계 | F005 템플릿 추천의 데이터 기반 | 노션 CS 템플릿 DB |
| **F008** | 자사몰 리뷰 AI 자동 답변 | 메이크샵 API 리뷰 수집 → AI 감성 분석 → 별점 4~5 일반 칭찬 API 자동 등록 | 자사몰 리뷰 답변 완전 자동화 | n8n 리뷰 워크플로우, 노션 리뷰 DB |
| **F009** | 부정 리뷰 / 확인 필요 리뷰 알림 | 별점 1~3 또는 개선요청 포함 리뷰 → AI 초안 생성 → 텔레그램 긴급 알림 | 부정 리뷰 빠른 대응으로 브랜드 평판 관리 | n8n 리뷰 워크플로우, 노션 리뷰 DB |
| **F010** | 미수금 자동 관리 | 무통장 72시간 미입금 → SMS 알림 → 자동 취소. 입금 확인 시 출고 SMS 안내 | 미입금 수동 관리 시간 절약, 미처리 방지 | n8n 미수금 워크플로우 |
| **F011** | 일일/주간 리포트 | 매일 21:00 CS 현황 + 리뷰 현황 리포트, 매주 월요일 리뷰 분석 리포트 텔레그램 발송 | 운영 성과 수치 확인 | n8n 리포트 워크플로우 |

### Phase 2 — 고객 경험 고도화 (핵심 매출 증대)

> 이 섹션이 매출과 재구매율에 직결되는 핵심 자동화다.

| ID | 기능명 | 설명 | 효과 | 관련 페이지/도구 |
|----|--------|------|------|----------------|
| **F020** | VIP 고객 자동 판별 및 승급 | 월 1회 회원 주문 통계 조회 → VIP 기준 충족 시 그룹 자동 승급 → 축하 SMS + 쿠폰/적립금 자동 지급 | 재구매율 향상, 고객 로열티 강화 | n8n 고객경험 워크플로우 |
| **F021** | 장바구니 이탈 유도 | 매일 10:00 장바구니 24시간 이탈 고객 조회 → SMS + 쿠폰 자동 발송 | 장바구니 이탈 10~15% 추가 전환 | n8n 고객경험 워크플로우 |
| **F022** | 휴면 고객 재활성화 | 휴면 전환 예정 D-7 → 복귀 할인 쿠폰 + SMS 자동 발송 | 휴면 전환 방지 5~10% | n8n 고객경험 워크플로우 |
| **F023** | 주문 상태 SMS 자동 알림 | 입금확인/배송시작/배송완료 등 주문 상태 변경 시 고객에게 SMS 자동 발송 | 배송 관련 CS 30~40% 자연 감소 | n8n 고객경험 워크플로우 |
| **F024** | 리뷰 작성 유도 | 배송완료 D+7 리뷰 미작성 고객 → SMS + 적립금 보상 안내 자동 발송 | 리뷰 작성률 2~3배 향상 | n8n 리뷰 워크플로우 |
| **F025** | 혜택 자동 지급 시스템 | 이벤트 조건 충족(구매횟수/금액) 시 쿠폰/적립금/포인트 자동 발급 | 고객 만족도 및 재방문율 향상 | n8n 고객경험 워크플로우 |

### Phase 3 — 마케팅 자동화

| ID | 기능명 | 설명 | 관련 페이지/도구 |
|----|--------|------|----------------|
| **F030** | SNS 포스팅 리마인더 | 노션 콘텐츠 캘린더 기반 내일 발행 예정 알림 + 미완성 경고 + 주간 플래닝 알림 | n8n SNS 워크플로우, 노션 콘텐츠 캘린더 DB |
| **F031** | 리뷰→SNS 콘텐츠 자동 제안 | 좋은 리뷰(별점 5 + 사진) 감지 시 SNS 콘텐츠 활용 텔레그램 자동 추천 | n8n 리뷰 워크플로우, n8n SNS 워크플로우 |
| **F032** | 반복 CS → 상세페이지 개선 인사이트 | 월 1회 반복 문의 패턴 분석 → 상세페이지 개선 제안 텔레그램 발송 | n8n 리포트 워크플로우, 노션 CS 문의 DB |
| **F033** | SEO 자동 최적화 | 키워드 트렌드 반영 상품 SEO 자동 등록 (메이크샵 상품 SEO API) | n8n 마케팅 워크플로우 |
| **F034** | 프로모션 자동 관리 | 노션 프로모션 캘린더 → 기획전 자동 생성/종료 (메이크샵 기획전 API) | n8n 마케팅 워크플로우, 노션 콘텐츠 캘린더 DB |

### Phase 4 — 스마트스토어 연동 확산

| ID | 기능명 | 설명 | 관련 페이지/도구 |
|----|--------|------|----------------|
| **F040** | 스마트스토어 문의 AI 자동 답변 | 네이버 커머스 API 상품 문의 조회 → AI 답변 → API 자동 등록 | n8n CS 워크플로우 |
| **F041** | 스마트스토어 부정 리뷰 즉시 알림 | 네이버 커머스 API 리뷰 수집(시도 중) → 별점 1~3 감지 시 텔레그램 긴급 알림 | n8n 리뷰 워크플로우 |
| **F042** | 스마트스토어 리뷰 AI 자동 답변 | 리뷰 수집 API 해결 시 자사몰과 동일한 AI 자동 답변 체계 적용 | n8n 리뷰 워크플로우 |
| **F043** | 리뷰 DB 감성 분석 및 키워드 트렌드 | 누적 리뷰 데이터 기반 감성 분석, 키워드 트렌드, 채널별 비교 분석 | n8n 리포트 워크플로우, 노션 리뷰 DB |

### Phase 5 — 경쟁사 모니터링 (최후순위)

| ID | 기능명 | 설명 | 관련 페이지/도구 |
|----|--------|------|----------------|
| **F050** | 경쟁사 가격 모니터링 | 네이버 검색 API(쇼핑)로 키워드별 상위 상품 가격/순위 매일 수집 → 변동 시 텔레그램 알림 | n8n 경쟁사 워크플로우, 노션 경쟁사 DB |

### MVP 이후 제외 기능

- 사방넷/쿠팡 API 직접 연동 (사방넷 중복 불가, 유료)
- 채널톡 유료 전환 전 타 채널 CS 전자동화 (Webhook 미지원)
- 서버 헬스체크, n8n 워크플로우 자동 백업 (나중에 추가)

---

## 메뉴/도구 구조

```
쇼핑몰 운영 자동화 시스템 구성도

[자사몰 고객 접점]
├── 자사몰 채팅 버튼 (Typebot 위젯)
│   └── 기능: F001 (FAQ 자동 응대), F002 (채널톡 전환), F003 (배송 추적)
└── 채널톡 라이브챗 (상담원 직접 답변)
    └── 기능: F002 (Typebot에서 전환 수신)

[Phase 1 — CS 처리]
├── 자사몰 CS (Typebot → n8n Webhook → 자동 처리)
│   └── 기능: F004 (노션 자동 기록), F005 (텔레그램 알림 + 템플릿 추천)
├── 타 채널 CS (채널톡에서 확인 → 노션 수동 기록)
│   └── 기능: F004 (수동 기록)
└── 미답변 추적 (매 1시간 스케줄 — 노션 CS DB 조회)
    └── 기능: F006 (단계적 알림)

[Phase 1 — 리뷰 관리]
├── 자사몰 리뷰 (메이크샵 API 자동 수집 + AI 자동 답변 등록)
│   └── 기능: F008 (AI 자동 답변), F009 (부정 리뷰 알림)
├── 스마트스토어 리뷰 (수동 확인 + AI 답변 초안 보조)
│   └── 기능: F009 (부정 리뷰 알림)
└── 리뷰 유도 (배송완료 D+7)
    └── 기능: F024 (SMS + 적립금 안내)

[Phase 1 — 미수금 관리]
└── 무통장 주문 감시 (매 1시간 스케줄)
    └── 기능: F010 (72시간 미입금 자동 취소, 입금 확인 출고 SMS)

[Phase 2 — 고객 경험 고도화]
├── VIP 자동 관리 (월 1회 스케줄)
│   └── 기능: F020 (주문 통계 → 자동 승급 → 혜택 지급)
├── 장바구니 이탈 유도 (매일 10:00)
│   └── 기능: F021 (24시간 이탈 감지 → SMS + 쿠폰)
├── 휴면 재활성화 (매일 스케줄)
│   └── 기능: F022 (D-7 쿠폰 + SMS)
├── 주문 상태 SMS 알림 (이벤트 기반)
│   └── 기능: F023 (입금/배송/완료 SMS)
└── 혜택 자동 지급 (이벤트 기반)
    └── 기능: F025 (쿠폰/적립금/포인트 자동 발급)

[Phase 3 — 마케팅]
├── SNS 리마인더 (매일 21:00 + 매주 일요일 20:00)
│   └── 기능: F030 (발행 예정 알림), F031 (리뷰→콘텐츠 제안)
├── 인사이트 리포트 (매월 1일)
│   └── 기능: F032 (반복 CS → 상세페이지 개선 제안)
├── SEO 자동화 (주기 설정)
│   └── 기능: F033 (상품 SEO 자동 등록)
└── 프로모션 관리 (노션 캘린더 기반)
    └── 기능: F034 (기획전 자동 생성/종료)

[Phase 4 — 스마트스토어 확산]
├── 스마트스토어 문의 AI 답변 (매일 스케줄)
│   └── 기능: F040 (커머스 API → AI → 자동 등록)
└── 스마트스토어 리뷰 자동화 (API 해결 후)
    └── 기능: F041 (부정 리뷰 즉시 알림), F042 (AI 자동 답변)

[Phase 5 — 경쟁사 모니터링, 최후순위]
└── 네이버 쇼핑 가격 수집 (매일 09:00)
    └── 기능: F050 (변동 감지 + 노션 기록)

[운영자 관리 도구]
├── n8n 워크플로우 관리 (n8n.도메인.com)
│   └── 모든 자동화 워크플로우 구성/실행 관리
├── Typebot 챗봇 빌더 (chat.도메인.com)
│   └── 기능: F001 (챗봇 시나리오 관리), F002 (채널톡 전환 스크립트)
└── 노션 DB 대시보드
    └── 기능: F004, F007, F008 (CS/템플릿/리뷰 DB 관리)

[운영자 알림 수신 — 텔레그램 @Pressco21_bot]
├── CS 알림 (즉시) — F005, F006
├── 리뷰 알림 (즉시 + 일일) — F008, F009, F011
├── 미수금 알림 (이벤트 기반) — F010
├── 고객 경험 알림 (이벤트 기반) — F020~F025
└── 리포트 (매일 21:00, 매주 월요일) — F011, F032
```

---

## 페이지별 상세 기능

### Typebot 챗봇 (bot.도메인.com — 자사몰 위젯으로 삽입)

> **구현 기능:** `F001`, `F002`, `F003` | **진입:** 자사몰 페이지 채팅 버튼 클릭

| 항목 | 내용 |
|------|------|
| **역할** | 자사몰 고객의 1차 CS 접점. FAQ 80~90% 자동 해결 + 배송 조회 + 채널톡 연결 허브 |
| **진입 경로** | 자사몰 모든 페이지 우측 하단 채팅 버튼 클릭 (메이크샵 공통 HTML 삽입) |
| **사용자 행동** | 카테고리 버튼 선택 (상품정보/배송조회/주문결제/교환반품/상담원연결) 또는 자유 텍스트 질문 입력 |
| **주요 기능** | - 카테고리별 FAQ 자동 답변 트리 (상품구성/사이즈/대량주문/커스텀/포장 등)<br>- 배송 조회: 주문번호 입력 → n8n Webhook → 메이크샵 주문 조회 API(송장번호 추출) → 택배사 추적 API → 배송 상태 반환<br>- AI 자유 질문: n8n Webhook → OpenAI → FAQ에 없는 질문 답변<br>- **상담원 연결** 버튼: Typebot 닫힘 + `ChannelIO('openChat')` JavaScript 실행으로 채널톡 자동 열림<br>- 챗봇 대화 이력 n8n으로 전송 (노션 CS DB 기록 + 텔레그램 알림 트리거) |
| **다음 이동** | FAQ 해결 → 대화 종료 / 상담원 연결 → 채널톡 라이브챗 전환 |

---

### n8n CS 자동화 워크플로우 (n8n.도메인.com)

> **구현 기능:** `F004`, `F005`, `F006`, `F007` | **실행:** Webhook 수신 + 스케줄 트리거

| 항목 | 내용 |
|------|------|
| **역할** | 자사몰 CS 자동 처리 + 전 채널 미답변 추적 + CS 템플릿 추천 엔진 |
| **진입 경로** | (1) Typebot Webhook 수신 (자사몰 챗봇 CS 발생 시) (2) 매 1시간 스케줄 트리거 (미답변 추적) |
| **사용자 행동** | 자사몰 CS: 자동 실행. 타 채널 CS: 운영자가 채널톡에서 확인 후 노션에 수동 기록 |
| **주요 기능** | - [자동] 자사몰 챗봇 CS: 키워드 분류 → 노션 CS DB 기록 → 텔레그램 알림 + 템플릿 추천<br>- [자동] 미답변 추적: 1시간/3시간/6시간 경과 시 단계적 텔레그램 경고<br>- [자동] 매일 21:00 CS 일일 리포트 (접수/완료/미답변/채널별/유형별/평균응답시간)<br>- [자동] 월 1회 반복 문의 패턴 분석 → 상세페이지 개선 인사이트 텔레그램 발송 (F032)<br>- [수동] 타 채널 CS: 운영자가 노션에 직접 기록 |
| **다음 이동** | 텔레그램 알림 수신 후 운영자가 채널톡 앱에서 직접 답변 처리 |

---

### n8n 미수금 관리 워크플로우 (n8n.도메인.com)

> **구현 기능:** `F010` | **실행:** 매 1시간 스케줄 트리거

| 항목 | 내용 |
|------|------|
| **역할** | 무통장 주문의 입금 여부를 자동 감시하여 미입금 취소와 입금 확인 출고 안내를 자동화 |
| **진입 경로** | 매 1시간 n8n 스케줄 트리거 |
| **사용자 행동** | 자동 실행. 운영자는 텔레그램 알림 수신 후 확인만 함 |
| **주요 기능** | - [자동] 메이크샵 API 무통장 주문 목록 조회<br>- [자동] 72시간 이내 입금 확인 → 메이크샵 API 입금 처리 → 고객에게 출고 안내 SMS<br>- [자동] 72시간 미입금 → 메이크샵 API 주문 자동 취소 → 고객에게 취소 안내 SMS<br>- [자동] 처리 결과 텔레그램 운영자 알림 (입금 확인/미입금 취소 건수 요약) |
| **다음 이동** | 텔레그램 알림 수신 후 운영자 확인 (추가 조치 필요 시 수동 대응) |

---

### n8n 리뷰 AI 자동화 워크플로우 (n8n.도메인.com)

> **구현 기능:** `F008`, `F009`, `F024`, `F041`, `F042` | **실행:** 매일 스케줄 트리거

| 항목 | 내용 |
|------|------|
| **역할** | 자사몰 리뷰 완전 자동화 + 스마트스토어 AI 답변 초안 보조 + 리뷰 유도 자동화 |
| **진입 경로** | 매일 n8n 스케줄 트리거. 리뷰 유도는 배송완료 D+7 스케줄 |
| **사용자 행동** | 자사몰: 자동 실행 + 텔레그램 승인 플로우. 스마트스토어: AI 초안 수신 후 판매자센터에서 수동 등록 |
| **주요 기능** | - **자사몰 (완전 자동)**: 메이크샵 API 리뷰 수집 → OpenAI 감성 분석 → 별점 4~5 일반 칭찬은 메이크샵 API(댓글 등록)로 자동 답변 → 노션 리뷰 DB 기록<br>- **자사몰 확인 필요**: 개선요청/질문 포함 리뷰 → AI 초안 → 텔레그램 [이대로 등록] / [수정] 승인 플로우<br>- **자사몰 부정 리뷰**: 별점 1~3 → 텔레그램 긴급 알림 + AI 참고안<br>- **스마트스토어 (AI 보조)**: AI 답변 초안 생성 → 텔레그램 발송 → 운영자가 판매자센터에서 수동 등록 (API 해결 시 자동화로 전환 — F042)<br>- **스마트스토어 부정 리뷰**: 별점 1~3 감지 시 즉시 텔레그램 긴급 알림 (F041, 특히 중요)<br>- **리뷰 유도 (F024)**: 배송완료 D+7 리뷰 미작성 고객 → SMS + 적립금 보상 안내<br>- **리뷰→콘텐츠 제안 (F031)**: 별점 5 + 사진 포함 리뷰 감지 → 텔레그램으로 SNS 활용 추천<br>- 노션 리뷰 DB 전건 기록 |
| **다음 이동** | 자사몰: 자동 처리 완료 또는 승인 후 API 등록. 스마트스토어: AI 초안 복사 → 판매자센터 수동 등록 |

---

### n8n 고객 경험 고도화 워크플로우 (n8n.도메인.com)

> **구현 기능:** `F020`, `F021`, `F022`, `F023`, `F025` | **실행:** 이벤트 기반 + 스케줄 트리거

| 항목 | 내용 |
|------|------|
| **역할** | 구매 데이터 기반 VIP 관리, 장바구니 이탈 유도, 휴면 재활성화, 주문 상태 알림, 혜택 자동 지급으로 매출과 재구매율 향상 |
| **진입 경로** | (1) 월 1회 스케줄 (VIP/휴면) (2) 매일 10:00 스케줄 (장바구니 이탈) (3) 주문 상태 변경 이벤트 (SMS 알림) |
| **사용자 행동** | 자동 실행. 운영자는 텔레그램 알림으로 처리 결과 확인 |
| **주요 기능** | - **VIP 자동 승급 (F020)**: 월 1회 메이크샵 회원 주문 통계 조회 → VIP 기준 충족(예: 3회 이상 구매 또는 누적 15만원 이상) → 회원 그룹 자동 변경 → 축하 SMS + 쿠폰/적립금 자동 지급 → 텔레그램 알림<br>- **장바구니 이탈 유도 (F021)**: 매일 10:00 장바구니 조회 → 24시간 이탈 고객 필터링 → 할인 쿠폰 포함 SMS 자동 발송<br>- **휴면 재활성화 (F022)**: 휴면 전환 예정 D-7 조회 → 복귀 할인 쿠폰 + 개인화 SMS 자동 발송<br>- **주문 상태 SMS (F023)**: 입금 확인/배송 시작/배송 완료 시 고객에게 SMS 자동 발송 → 배송 관련 CS 자연 감소<br>- **혜택 자동 지급 (F025)**: 구매횟수/금액 기준 이벤트 조건 충족 시 쿠폰/적립금/포인트 자동 발급 |
| **다음 이동** | 텔레그램 알림 수신 후 운영자 확인 (추가 조치 필요 시 수동 대응) |

---

### n8n SNS 리마인더 워크플로우 (n8n.도메인.com)

> **구현 기능:** `F030`, `F031`, `F033`, `F034` | **실행:** 매일 21:00 + 매주 일요일 20:00 + 이벤트 기반

| 항목 | 내용 |
|------|------|
| **역할** | 노션 콘텐츠 캘린더 기반 SNS 발행 리마인드 + 리뷰 콘텐츠 추천 + SEO/프로모션 자동화 |
| **진입 경로** | 매일 21:00, 매주 일요일 20:00, 발행일 +3일, 좋은 리뷰 감지 이벤트 |
| **사용자 행동** | 자동 실행. 운영자는 텔레그램 알림 확인 후 노션 콘텐츠 캘린더에서 직접 제작/발행 |
| **주요 기능** | - **매일 21:00**: 내일 발행 예정 콘텐츠 목록 + 미완성 항목 경고 알림 (F030)<br>- **매주 일요일 20:00**: 다음 주 7일 콘텐츠 일정 현황 + 빠른 제작 가능 콘텐츠 유형 추천 (F030)<br>- **발행일 +3일**: 성과 체크 리마인더 (좋아요/저장/도달 노션 기록 요청) (F030)<br>- **리뷰→콘텐츠 제안**: 좋은 리뷰 감지 시 SNS 활용 텔레그램 자동 추천 (F031)<br>- **SEO 자동 등록**: 키워드 트렌드 반영 메이크샵 상품 SEO 자동 등록 (F033)<br>- **기획전 자동 관리**: 노션 프로모션 캘린더 기반 기획전 자동 생성/종료 (F034) |
| **다음 이동** | 알림 수신 후 운영자가 노션 콘텐츠 캘린더에서 제작/발행 처리 |

---

### n8n 경쟁사 모니터링 워크플로우 (n8n.도메인.com)

> **구현 기능:** `F050` | **실행:** 매일 09:00 스케줄 트리거 (Phase 5, 최후순위)

| 항목 | 내용 |
|------|------|
| **역할** | 네이버 쇼핑 경쟁 상품 가격과 순위를 매일 자동 수집하여 유의미한 변동 시 운영자에게 알림 |
| **진입 경로** | 매일 09:00 n8n 스케줄 트리거 |
| **사용자 행동** | 자동 실행. 운영자는 텔레그램 알림 확인 후 가격 전략 판단 |
| **주요 기능** | - 네이버 검색 API(쇼핑)로 키워드(웨딩기프트/결혼답례품 등) 상위 상품 가격/순위 수집<br>- 변동 감지 기준: 가격 ±5% 이상, 순위 ±3위 이상, 신규 상품 TOP10 진입<br>- 변동 시에만 텔레그램 알림 (변동 없으면 노션 기록만)<br>- 노션 가격 이력 DB 매일 기록<br>- 매주 월요일 09:00 주간 경쟁 분석 리포트 텔레그램 발송<br>- **제외**: 쿠팡 크롤링 (robots.txt 차단) → 수동 모니터링 |
| **다음 이동** | 알림 수신 후 운영자가 가격/이벤트 전략 독립 판단 (자동 가격 변경 없음) |

---

### 노션 CS 문의 DB

> **구현 기능:** `F004`, `F006` | **관리:** 자사몰 자동 기록 + 타 채널 수동 기록

| 항목 | 내용 |
|------|------|
| **역할** | 전 채널 CS 이력 통합 보관. 자사몰은 자동 기록, 타 채널은 운영자 수동 기록 |
| **진입 경로** | 자사몰: n8n 워크플로우가 자동 생성. 타 채널: 운영자가 직접 기록 |
| **사용자 행동** | 타 채널 CS 수신 시 노션에 수동 등록. 답변 완료 시 상태를 "답변완료"로 변경 |
| **주요 기능** | - 자동 기록 필드 (자사몰): 채널/카테고리/긴급도/고객명/접수일시/내용<br>- 수동 기록 필드 (타 채널): 위 필드를 운영자가 직접 입력<br>- 수동 업데이트 필드: 상태(미답변→답변완료→종결)/답변일시/답변내용/사용 템플릿<br>- 수식 필드: 응답시간 자동 계산 (답변일시 - 접수일시)<br>- 미답변 필터 뷰: n8n 미답변 추적 쿼리 대상 |
| **다음 이동** | 상태 업데이트 → n8n 미답변 추적 쿼리에서 제외 |

---

### 노션 CS 템플릿 DB

> **구현 기능:** `F005`, `F007` | **관리:** 초기 18개 수동 입력, 이후 추가

| 항목 | 내용 |
|------|------|
| **역할** | 자주 사용하는 CS 답변 템플릿 관리. n8n 키워드 매칭 엔진의 데이터 소스 |
| **진입 경로** | 초기 구축 시 수동 입력 후, 신규 반복 패턴 발견 시 운영자가 직접 추가 |
| **사용자 행동** | 템플릿 작성 (템플릿명/카테고리/트리거 키워드/답변 내용/변수 등록), 텔레그램 추천 확인 후 복사 사용 |
| **주요 기능** | - 카테고리별 템플릿 관리 (상품문의 6개, 주문결제 5개, 배송 3개, 교환반품 4개, 초기 합계 18개)<br>- 트리거 키워드 설정 (n8n Code 노드에서 매칭 판단에 사용)<br>- 변수 치환 지원 ({상품명}, {송장번호} 등)<br>- 사용 횟수 자동 카운트 (n8n이 매칭 시 업데이트) |
| **다음 이동** | 매칭 시 텔레그램 알림에 답변 내용 미리보기 포함 |

---

### 노션 리뷰 DB

> **구현 기능:** `F008`, `F009`, `F024`, `F031`, `F041`, `F042`, `F043` | **관리:** 자사몰 자동 기록, 스마트스토어 AI 처리 시 자동 기록

| 항목 | 내용 |
|------|------|
| **역할** | 리뷰 전건 수집 기록. AI 답변 이력 추적, 감성 분석, 키워드 트렌드 분석 데이터 소스 |
| **진입 경로** | 자사몰: n8n 워크플로우가 매일 자동 생성. 스마트스토어: AI 초안 처리 시 자동 기록 |
| **사용자 행동** | 자사몰: 조회 전용. 스마트스토어: AI 초안으로 수동 답변 후 결과 기록 |
| **주요 기능** | - 자동 기록 필드: 상품명/채널/별점/리뷰 내용/등록일/AI 감성/키워드/답변방식/답변내용/답변일시<br>- 채널별 필터 뷰 (자사몰/스마트스토어)<br>- 미답변 필터 뷰 (답변 누락 건 확인용)<br>- Phase 4에서 감성 분석/키워드 트렌드 분석 (F043) 데이터 소스로 활용 |
| **다음 이동** | 주간 리뷰 분석 리포트 데이터 소스로 n8n이 조회 |

---

### 노션 콘텐츠 캘린더 DB

> **구현 기능:** `F030`, `F031`, `F034` | **관리:** 운영자 직접 관리 (n8n은 조회만)

| 항목 | 내용 |
|------|------|
| **역할** | SNS 포스팅 전 과정(아이디어→기획→제작→발행→성과) 관리 + 프로모션 캘린더 |
| **진입 경로** | 운영자가 직접 접근하여 콘텐츠 등록/상태 업데이트. n8n 알림에서 노션 링크로 바로 이동 |
| **사용자 행동** | 콘텐츠 기획 등록, 발행일/채널/상태 업데이트, 발행 후 성과 수치(좋아요/저장/도달) 기록 |
| **주요 기능** | - 상태 관리: 아이디어 → 기획 → 제작중 → 완성 → 예약완료 → 발행완료<br>- 채널 다중 선택 (인스타피드/인스타릴스/인스타스토리/블로그/스마트스토어소식)<br>- 타입 분류 (제품사진/리뷰리그램/이벤트/정보성/릴스/스토리)<br>- 프로모션 필드 추가: 기획전명/기간/할인율 (F034 기획전 자동화 연동)<br>- 성과 필드 (좋아요/댓글/저장/도달, 발행 후 수동 기록) |
| **다음 이동** | 발행 완료 후 +3일 n8n이 성과 체크 리마인더 발송 |

---

### 노션 경쟁사 상품 DB + 가격 이력 DB

> **구현 기능:** `F050` | **관리:** 경쟁사 DB는 운영자 초기 설정, 가격 이력은 n8n 자동 기록 (Phase 5)

| 항목 | 내용 |
|------|------|
| **역할** | 경쟁사 상품 DB: 모니터링 대상 관리. 가격 이력 DB: 일별 가격/순위 추이 데이터 축적 |
| **진입 경로** | 경쟁사 DB: 운영자가 초기 수동 등록. 가격 이력 DB: n8n이 매일 자동 생성 |
| **사용자 행동** | 경쟁사 DB: 모니터링 대상 상품 키워드 등록. 가격 이력 DB: 주로 조회 전용 |
| **주요 기능** | - 경쟁사 상품 DB: 상품명/업체명/채널/현재가/이전가/URL/모니터링 키워드 관리<br>- 가격 이력 DB: 날짜/키워드/내 가격/내 순위/최저가/최저가 업체/평균가 일별 기록<br>- **모니터링 범위**: 네이버 쇼핑만 (네이버 검색 API). 쿠팡은 수동 모니터링 |
| **다음 이동** | 주간 경쟁 분석 리포트 데이터 소스로 n8n이 조회 |

---

## 데이터 모델

### CS 문의 DB (노션)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID (노션 자동 생성) |
| 제목 | 문의 첫 줄 요약 | title |
| 채널 | 자사몰챗봇/톡톡/카카오/인스타/채널톡 | select |
| 입력방식 | 자동(챗봇) / 수동(운영자) | select |
| 상태 | 미답변 / 답변완료 / 종결 | status |
| 카테고리 | 상품문의/배송/주문결제/교환반품/기타 | select |
| 긴급도 | 일반 / 긴급 / VIP | select |
| 고객명 | 채널톡 또는 API에서 추출 | text |
| 주문번호 | API 조회 결과 | text |
| 접수일시 | Webhook 수신 시각 또는 수동 입력 | date |
| 답변일시 | 운영자 기록 | date |
| 응답시간 | 답변일시 - 접수일시 | formula |
| 내용 | 문의 전문 | text |
| 답변내용 | 운영자가 한 답변 기록 | text |
| 사용 템플릿 | CS 템플릿 DB 연결 | → CS 템플릿 DB |

### CS 템플릿 DB (노션)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID |
| 템플릿명 | #구성품, #배송확인 등 해시태그 형식 | title |
| 카테고리 | 상품문의/배송/주문결제/교환반품 | select |
| 트리거 키워드 | n8n 매칭에 사용하는 키워드 목록 | text |
| 답변 내용 | 실제 답변 텍스트 ({변수} 포함) | text |
| 사용 횟수 | n8n이 매칭 시 자동 카운트 | number |
| 최종 수정일 | 마지막 업데이트 날짜 | date |

### 리뷰 DB (노션)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID |
| 상품명 | 리뷰 대상 상품 | title |
| 채널 | 스마트스토어 / 자사몰 | select |
| 별점 | 1~5 | number |
| 리뷰 내용 | 고객 원문 | text |
| AI 감성 | 긍정 / 중립 / 부정 | select |
| 키워드 | 포장/배송/품질/가격/선물 등 | multi_select |
| 답변 방식 | API자동 / AI초안+수동등록 / 직접작성 | select |
| 답변 내용 | 실제 등록된 답변 텍스트 | text |
| 답변일시 | 답변 등록 시각 | date |
| 등록일 | 리뷰 작성일 | date |
| SNS활용여부 | 콘텐츠 추천 여부 | checkbox |

### 콘텐츠 캘린더 DB (노션)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID |
| 제목 | 콘텐츠 또는 프로모션 제목 | title |
| 채널 | 인스타피드/릴스/스토리/블로그/스스소식 | multi_select |
| 상태 | 아이디어→기획→제작중→완성→예약완료→발행완료 | status |
| 발행일 | 발행 예정일 | date |
| 타입 | 제품사진/리뷰리그램/이벤트/정보성/릴스/프로모션 | select |
| 기획전명 | 프로모션 기획전 이름 (F034 연동) | text |
| 성과 | 좋아요/댓글/저장/도달 (발행 후 기록) | text |

### 경쟁사 상품 DB (노션)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID |
| 상품명 | 경쟁 상품명 | title |
| 업체명 | 경쟁사 이름 | text |
| 채널 | 네이버쇼핑 | select |
| 현재가 | 최신 수집 가격 | number |
| 이전가 | 전일 가격 | number |
| URL | 상품 링크 | url |
| 모니터링 키워드 | 검색에 사용하는 키워드 | text |

### 가격 이력 DB (노션)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID |
| 날짜 | 기록 날짜 | date |
| 키워드 | 검색 키워드 | select |
| 내 가격 | 내 상품 당일 가격 | number |
| 내 순위 | 검색 결과 내 순위 | number |
| 최저가 | 경쟁사 최저가 | number |
| 최저가 업체 | 최저가 업체명 | text |
| 평균가 | 상위 10개 평균가 | number |

---

## 기술 스택

### 자동화 엔진

- **n8n** (self-hosted Docker, latest) - 워크플로우 자동화 핵심 엔진
- **Typebot** (self-hosted Docker, latest) - 자사몰 AI 챗봇 빌더 + 런타임 위젯

### 외부 API 및 서비스

| API | 용도 | 비용 | 상태 |
|-----|------|------|------|
| **Telegram Bot API** | 운영자 알림 수발신 | 무료 | 확인됨 |
| **Notion API** | 5개 DB CRUD (초당 3회 제한) | 무료 | 확인됨 |
| **채널톡 JS SDK** | 자사몰 라이브챗 (Typebot에서 전환) | 무료 | 확인됨 |
| **OpenAI API** (GPT-4o mini) | 리뷰 AI 감성 분석 + 답변 생성 + 챗봇 자유 질문 | 월 ~3,000~5,000원 | 확인됨 |
| **메이크샵 오픈 API** | 자사몰 리뷰/주문/회원/혜택/게시판/SEO/기획전 (시간당 500회) | 무료 | API 키 확보 완료 |
| **네이버 검색 API** (쇼핑) | 경쟁사 가격/순위 수집 (Phase 5) | 무료 (일 25,000건) | API 키 발급 필요 |
| **택배사 추적 API** (스마트택배 등) | 배송 상태 조회 | 무료 티어 | 확인 필요 |
| **네이버 커머스 API** | 스마트스토어 상품 문의 조회/답변 (리뷰는 시도 중) | 무료 | 확인 필요 (API 키 발급) |

> **제거된 API**: 사방넷 API (유료, 미사용), 쿠팡 Wing API (사방넷 중복 불가), 채널톡 Webhook (무료 플랜 미지원)

### 핵심 메이크샵 API 목록

| 기능 | Method | type / process | Phase |
|------|--------|---------------|-------|
| 코멘트 평점형 후기 조회 | GET | review | Phase 1 |
| 게시글 댓글 등록 | POST | comment / store | Phase 1 |
| 1:1 게시판 조회 | GET | crm_board | Phase 1 |
| 1:1 게시글 답변 등록 | POST | crm_board / reply | Phase 1 |
| 주문 2.0 조회 | GET | order | Phase 1 |
| 주문 2.0 검색 지원 | GET | order_search | Phase 1 |
| 상품 조회 | GET | product | Phase 1 |
| 택배사 조회 | GET | delivery_company | Phase 1 |
| 입금 확인 처리 | POST | order / paid | Phase 1 (미수금) |
| 주문 취소 (입금전) | POST | order / cancel_done | Phase 1 (미수금) |
| SMS 보내기 | POST | send_sms | Phase 1~2 |
| 회원 주문 통계 조회 | GET | user_order | Phase 2 (VIP) |
| 회원 그룹 변경 | POST | user_group_change / update | Phase 2 (VIP) |
| 장바구니 조회 | GET | cart | Phase 2 (이탈 유도) |
| 휴면 회원 조회 | GET | user_dormant | Phase 2 (휴면) |
| 쿠폰 지급 | POST | coupon / give | Phase 2 (혜택) |
| 적립금 지급 | POST | reserve / give | Phase 2 (혜택) |
| 포인트 지급 | POST | point / give | Phase 2 (혜택) |
| 상품 SEO 등록 | POST | product_seo | Phase 3 |
| 기획전 등록/수정 | POST | plan / create, update | Phase 3 |

### 쇼핑몰 프론트엔드 (메이크샵 공통 HTML)

- **Vanilla JS** - 메이크샵 D4 공통 HTML에 삽입 (빌드 도구 없음, CDN 로드)
- **Typebot JS SDK** (CDN) - 자사몰 챗봇 위젯 삽입 (`hideChannelButtonOnBoot: true`)
- **채널톡 JS SDK** (CDN) - Typebot에서 라이브챗 전환 트리거 (`ChannelIO('openChat')`)

### 도메인 구성

| 서브도메인 | 서비스 | 용도 |
|-----------|--------|------|
| `n8n.도메인.com` | n8n | 워크플로우 관리 (운영자 전용) |
| `chat.도메인.com` | Typebot Builder | 챗봇 시나리오 관리 (운영자 전용) |
| `bot.도메인.com` | Typebot Viewer | 고객용 챗봇 위젯 런타임 |

---

## 서버 인프라 대안

### 1순위: Oracle Cloud Free Tier ARM (현재 방향)

| 항목 | 사양 |
|------|------|
| Shape | VM.Standard.A1.Flex |
| 스펙 | 2 OCPU / 12GB RAM / 50GB |
| OS | Ubuntu 22.04 aarch64 |
| 비용 | 영구 무료 |
| 문제점 | "Out of Host Capacity" 오류 빈번 |
| 대응 | 서울/춘천 리전 교차 시도, 새벽 시간대 재시도, 1~2주 간격 지속 시도 |

### 2순위: GCP Free Tier (Google Cloud)

| 항목 | 내용 |
|------|------|
| 인스턴스 | e2-micro (1 vCPU / 1GB RAM) — 영구 무료 |
| 스토리지 | 30GB HDD |
| 리전 | us-east1, us-west1, us-central1만 무료 |
| 문제점 | 메모리 1GB로 n8n + Typebot + PostgreSQL 동시 운영 시 부족 |
| 대응 | n8n만 단독 운영 (Typebot 포기) 또는 swap 메모리 확장 |
| 평가 | Oracle 발급 실패 시 임시 대안으로 적합 |

### 3순위: Fly.io

| 항목 | 내용 |
|------|------|
| 무료 한도 | 3 shared-cpu-1x VM (256MB RAM), 3GB SSD |
| 비용 | 월 $5~10 수준 (무료 한도 초과 시) |
| 장점 | 발급 즉시 사용 가능, Docker 지원, ARM 지원 |
| 문제점 | 무료 RAM 256MB로 n8n 단독도 빡빡함 |
| 평가 | 월 소액 지출 허용 시 가장 안정적인 대안 |

### 4순위: Railway

| 항목 | 내용 |
|------|------|
| 무료 한도 | 월 $5 크레딧 (매월 지급) |
| 장점 | Docker Compose 지원, 발급 즉시 사용 |
| 비용 | 무료 크레딧 초과 시 월 $5~15 수준 |
| 평가 | Oracle 대기 중 빠른 시작용으로 적합 |

### 인프라 스택 (Oracle 기준)

- **PostgreSQL 15** (Docker) - n8n + Typebot 공유 DB
- **Nginx** - 리버스 프록시 (서브도메인별 라우팅)
- **Certbot + Let's Encrypt** - HTTPS SSL 자동 갱신

---

## 메이크샵 API 호출 예산 계획 (시간당 500회 제한)

| 시간대 | 작업 | 예상 호출 |
|--------|------|----------|
| 매 1시간 | 미답변 CS 추적 + 무통장 주문 감시 | ~15회 |
| 매일 09:00 | 리뷰 수집 (Phase 1) | ~30회 |
| 매일 10:00 | 장바구니 이탈 조회 (Phase 2) | ~30회 |
| 매일 스케줄 | 휴면 회원 조회 (Phase 2) | ~20회 |
| 매일 21:00 | 리포트 조회 | ~20회 |
| 매주 월요일 | 스마트스토어 문의 일괄 처리 (Phase 4) | ~50회 |
| 매월 1일 | VIP 통계 조회 + 혜택 지급 + 휴면 대량 처리 | ~200회 |
| **일일 예상** | | **~300~400회 (500회 한도 내)** |

---

## 비용 요약

| 항목 | 서비스 | 월 비용 |
|------|--------|--------|
| 서버 | Oracle Cloud Free Tier ARM | 0원 |
| 자동화 | n8n (self-hosted Docker) | 0원 |
| 챗봇 | Typebot (self-hosted Docker) | 0원 |
| DB | PostgreSQL (Docker) | 0원 |
| 도메인 | 기존 보유 | 0원 |
| SSL | Let's Encrypt | 0원 |
| 텔레그램 | Bot API | 0원 |
| 노션 | API (무료 플랜) | 0원 |
| 메이크샵 API | 오픈 API | 0원 |
| 네이버 커머스 API | 스마트스토어 문의 연동 | 0원 |
| 네이버 검색 API | 경쟁사 모니터링 (Phase 5) | 0원 |
| **OpenAI API** | GPT-4o mini (리뷰 AI + 챗봇) | 월 ~3,000~5,000원 |
| **월 합계** | | **0원 ~ 5,000원** |

> AI 없이 키워드 매칭 + 템플릿 응답만으로도 운영 가능 (이 경우 0원).
> SMS 발송은 메이크샵 SMS 기능 사용 (메이크샵 요금제에 포함 여부 확인 필요).
> Oracle Cloud 발급 실패 장기화 시 Railway($5/월) 또는 Fly.io 전환 검토.

---

## 구현 로드맵

### Phase 1 — MVP (서버 배포 후 Week 1~3)

- [ ] Typebot Docker 배포 + 도메인 설정
- [ ] Typebot 챗봇 시나리오 구축 (상품/배송/주문/교환 FAQ)
- [ ] 메이크샵 공통 HTML에 Typebot 위젯 삽입 + 채널톡 버튼 숨김
- [ ] Typebot → 채널톡 전환 JavaScript 연동
- [ ] 배송 추적 자동화 (메이크샵 주문 API + 택배사 추적 API)
- [ ] n8n 워크플로우: CS Webhook → 텔레그램 알림 + 노션 CS DB 기록
- [ ] 노션 CS 문의 DB + CS 템플릿 DB 생성 + 초기 18개 템플릿 입력
- [ ] n8n 워크플로우: CS 키워드 매칭 → 템플릿 추천
- [ ] n8n 워크플로우: 미답변 추적 (매 1시간)
- [ ] n8n 워크플로우: 무통장 주문 감시 + 72시간 미입금 자동 취소
- [ ] n8n 워크플로우: 입금 확인 처리 + 출고 안내 SMS
- [ ] 노션 리뷰 DB 생성
- [ ] n8n 워크플로우: 자사몰 리뷰 수집 + AI 감성 분석 + 자동 답변 등록
- [ ] n8n 워크플로우: 부정 리뷰 / 확인 필요 리뷰 텔레그램 긴급 알림
- [ ] n8n 워크플로우: CS + 리뷰 일일 리포트 (매일 21:00)

### Phase 2 — 고객 경험 고도화 (Week 4~6)

- [ ] n8n 워크플로우: VIP 자동 판별 + 그룹 승급 + 쿠폰/적립금 지급
- [ ] n8n 워크플로우: 장바구니 이탈 유도 (24시간 이탈 → SMS + 쿠폰)
- [ ] n8n 워크플로우: 휴면 고객 재활성화 (D-7 → 복귀 쿠폰 + SMS)
- [ ] n8n 워크플로우: 주문 상태 SMS 자동 알림 (입금/배송/완료)
- [ ] n8n 워크플로우: 리뷰 작성 유도 (배송완료 D+7 → SMS + 적립금)
- [ ] n8n 워크플로우: 이벤트 조건 혜택 자동 지급 시스템

### Phase 3 — 마케팅 자동화 (Week 7~9)

- [ ] 노션 콘텐츠 캘린더 DB 생성
- [ ] n8n 워크플로우: SNS 포스팅 리마인더 (매일 21:00 + 일요일 20:00)
- [ ] n8n 워크플로우: 리뷰→SNS 콘텐츠 자동 추천
- [ ] n8n 워크플로우: 반복 CS → 상세페이지 개선 인사이트 (월 1회)
- [ ] n8n 워크플로우: 상품 SEO 자동 등록
- [ ] n8n 워크플로우: 기획전 자동 생성/종료

### Phase 4 — 스마트스토어 확산 (Week 10~12)

- [ ] 네이버 커머스 API 키 발급 + 테스트
- [ ] n8n 워크플로우: 스마트스토어 상품 문의 AI 자동 답변
- [ ] n8n 워크플로우: 스마트스토어 부정 리뷰 즉시 알림
- [ ] n8n 워크플로우: 스마트스토어 리뷰 자동 수집/답변 (API 해결 시)
- [ ] n8n 워크플로우: 리뷰 DB 감성 분석 + 키워드 트렌드 리포트

### Phase 5 — 경쟁사 모니터링 (여유 있을 때)

- [ ] 노션 경쟁사 상품 DB + 가격 이력 DB 생성
- [ ] 네이버 검색 API(쇼핑) 키 발급 + 테스트
- [ ] n8n 워크플로우: 네이버 쇼핑 가격/순위 모니터링 (매일 09:00)
- [ ] n8n 워크플로우: 주간 경쟁 분석 리포트 (매주 월요일)

---

## 개발 전 체크리스트

### 서버/인프라

- [ ] Oracle Cloud 서버 배포 완료 (실패 시 Railway/Fly.io 대안 전환)
- [ ] Typebot Docker ARM64 빌드 테스트
- [ ] Nginx + HTTPS (Let's Encrypt) 설정 완료
- [ ] 노션 신규 DB 5개 생성 (CS문의/CS템플릿/리뷰/콘텐츠캘린더 — 경쟁사 DB는 Phase 5에서)

### Phase 1 API 키 발급 및 테스트

- [ ] 메이크샵 오픈 API 테스트 (리뷰 조회, 댓글 등록, 주문 조회, 1:1 문의 조회/답변, 입금 확인, 주문 취소, SMS 발송)
- [ ] 택배사 추적 API 키 발급 + 배송 추적 테스트 (스마트택배 sweettracker.co.kr 또는 Delivery Tracker)
- [ ] OpenAI API 키 발급 + GPT-4o mini 리뷰 답변 테스트
- [ ] 텔레그램 봇 @Pressco21_bot 연동 테스트
- [ ] 노션 API Integration Token 발급 + DB 연동 테스트

### Phase 4 API 키 발급 및 테스트

- [ ] 네이버 커머스 API 키 발급 (통합매니저 계정, apicenter.commerce.naver.com)
- [ ] 네이버 커머스 API 테스트 (상품 문의 조회/답변 등록)
- [ ] 네이버 커머스 API 리뷰 조회 가능 여부 최종 확인

### Phase 5 API 키 발급

- [ ] 네이버 검색 API(쇼핑) 키 발급 + 테스트 (developers.naver.com)

### Typebot + 채널톡 연동 확인

- [ ] 메이크샵 공통 HTML에 Typebot 위젯 삽입 (`hideChannelButtonOnBoot: true`)
- [ ] Typebot "상담원 연결" 버튼 → `ChannelIO('openChat')` JavaScript 동작 확인
- [ ] 채널톡 플러그인 키 확인 + SDK 로드 테스트
- [ ] 메이크샵 D4 템플릿 리터럴 이스케이프 처리 확인 (`\${variable}` 형태)
